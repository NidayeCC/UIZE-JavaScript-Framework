/*
	UIZE JAVASCRIPT FRAMEWORK 2012-07-16

	http://www.uize.com/reference/Uize.html
	Available under MIT License or GNU General Public License -- http://www.uize.com/license.html
*/
(function(){var _a=Uize=function(){},_b,_c='string',_d='object',_e='number',_f='boolean',_g='function',_h=Function,_i=Array,_j=false,_k=true,_l=null,_m=Object.prototype.toString;var _n=0,_o=[],_p='[#modulePath]',_q,_r= !!_i.forEach,_s= !!(_i.indexOf&&_i.lastIndexOf),_t={},_u={Uize:_a};function _v(_w){return(_x(_w)?_w:_w?{constructor:_b,toLocaleString:_b,toString:_b,valueOf:_b}:{});}function _y(_z,_A){var _B=_z[0];if(_C(_B)){var _D=_z[1],_E=_z.length;_C(_D)&&_A(_B,_D);if(_E>2){for(var _F=1;++_F<_E;)_C(_D=_z[_F])&&_A(_B,_D);;}}return _B;}_a.capFirstChar=function(_G){return _G.charAt(0).toUpperCase()+_G.slice(1);};var _H=_a.clone=function(_I){if(_I==_b)return _I;var _J=typeof _I;if(_J==_c||_J==_e||_J==_f||_K(_I))return _I;var _L=_I.constructor;if(_L==Date||_L==String||_L==Number||_L==Boolean){return new _L(_I.valueOf())}else if(_L==RegExp){return new RegExp(_I.source,(_I.global?'g':'')+(_I.ignoreCase?'i':'')+(_I.multiline?'m':''));};var _M=_L==Object,_N= !_M&&_O(_I);if(_M||_N){var _P,_Q,_R=_M?{}:[];
if(_N)_R.length=_I.length;for(var _S in _I)_R[_S]=(_Q=typeof(_P=_I[_S]))==_c||_Q==_e||_Q==_f||_P==_b?_P:_H(_P);return _R;}return _I;};var _T=_a.constrain=function(_I,_U,_V){return(_U<_V?(_I<_U?_U:_I>_V?_V:_I):(_I<_V?_V:_I>_U?_U:_I));};_a.inRange=function(_I,_U,_V){return _I==_a.constrain(_I,_U,_V);};var _W=_a.copyInto=function(){return _y(arguments,function(_B,_D){for(var _X in _D)_B[_X]=_D[_X];});};Uize.mergeInto=function(){function _Y(_B,_D){var _Z,_0;for(var _X in _D)(_1(_0=_D[_X])&&_1(_Z=_B[_X]))?_Y(_Z,_0):(_B[_X]=_0);}return _y(arguments,_Y);};var _2=_a.forEach=function(_3,_4,_5,_6){if(_3){var _7=_O(_3);if(!_7||_3.length){if(typeof _4==_c)_4=new _h('value','key','source',_4);if(_7){if(_r&& !_6){_3.forEach(_4,_5);}else{for(var _8= -1,_9=_3.length;++_8<_9;)(_6||_8 in _3)&&_4.call(_5,_3[_8],_8,_3);}}else if(_x(_3)){for(var _8 in _3)_4.call(_5,_3[_8],_8,_3);}else if(typeof _3==_e){for(var _8= -1;++_8<_3;)_4.call(_5,_8,_8,_3);}}}};var _ba=_a.resolveTransformer=function(_bb){var _bc=typeof _bb;return(_bb==_b
?_a.returnX:_bc==_g?_bb:_bc=='string'?new Function('value','key','return '+_bb):_bc=='object'?(_bd(_bb)?function(_I){return _bb.test(_I+'')}:function(_I){return _bb.hasOwnProperty(_I)?_bb[_I]:_I}):function(){return _bb});};_a.resolveMatcher=function(_be){return _be==_b?_a.returnTrue:_ba(_be);};var _bf=_a.map=function(_3,_bg,_bh){if(typeof _3==_e){_3=new _i(_3);if(typeof _bh!=_d)_bh=_3;}_bg=_ba(_bg);if(typeof _bh!=_d)_bh=_bh===_j?_3:_O(_3)?[]:{};_2(_3,function(_I,_bi){var _bj=_bg.call(_3,_I,_bi);if(_bh)_bh[_bi]=_bj;},0,_k);return _bh;};_a.callOn=function(_bh,_bk,_bl){var _bm=_bn(_bk),_bo= !_bm&&_K(_bk);_bl||(_bl=_o);function _bp(_bh){if(_bh!=_b)_1(_bh)||_O(_bh)?_2(_bh,_bp,0,_k):_bo||(_bm&&_K(_bh[_bk]))?(_bo?_bk:_bh[_bk]).apply(_bh,_bl):0;}if(_bm||_bo)_bp(_bh);};_a.defaultNully=function(_I,_bq){return _I!=_b?_I:_bq;};var _br=_a.getModuleByName=function(_bs){var _bt;return(_u[_bs]||(_bs=='*'&&_u)||((_bt=(new _h('try {return '+_bs+'} catch (e) {}'))())&&(_u[_bs]=_bt)));};_a.indexIn=function(_3,_I,_bu,_bv){var
 _bw=_bx(_3),_R= -1;if(_bw||_x(_3)){var _by=_bw?_3:_bz(_3);if((_bv=_bv!==_j)&&_s){_R=_i[_bu?'lastIndexOf':'indexOf'](_by,_I);}else{for(var _bA=_by.length,_8=_bu?_bA: -1,_bB=_bu? -1:1;--_bA>=0;){var _bC=_by[_8+=_bB];if(_bv?_bC===_I:_bC==_I){_R=_8;break;}}}if(!_bw&&_R> -1)_R=_bD(_3)[_R];}return _R;};var _bD=_a.keys=function(_bE){var _R=[];if(!_bn(_bE))for(var _bi in _bE)_R.push(_bi);return _R;};_a.totalKeys=function(_bE){var _R=0;if(!_bn(_bE))for(var _bi in _bE)_R++;return _R;};var _bz=_a.values=values=function(_bE){if(_O(_bE))return _bE;var _R=[];if(!_bn(_bE))for(var _bi in _bE)_R.push(_bE[_bi]);return _R;};_a.meldKeysValues=function(_bD,_bz){var _R={};for(var _bF= -1,_bG=Math.min(_bD.length,_bz.length);++_bF<_bG;)_R[_bD[_bF]]=_bz[_bF];return _R;};_a.min=function(_bE){return Math.min.apply(0,_bz(_bE));};_a.max=function(_bE){return Math.max.apply(0,_bz(_bE));};_a.reverseLookup=function(_bE,_w){var _bH=_v(_w);if(!_bn(_bE))for(var _bi in _bE)_bH[_bE[_bi]+'']=_bi;return _bH;};_a.lookup=function(_bz,_bI,_w){
var _bH=_v(_w);if(arguments.length==1)_bI=_k;if(_bz!=_b){for(var _bJ= -1,_bK=_bz.length;++_bJ<_bK;)_bH[_bz[_bJ]]=_bI;}return _bH;};var _x=_a.isObject=function(_I){return!!_I&&typeof _I==_d;};var _C=_a.canExtend=function(_I){var _J=typeof _I;return!!_I&&(_J==_d||_J==_g);};var _1=_a.isPlainObject=function(_I){var _bL=_I&&_I.constructor;return!!(_bL&&(_bL==Object||(typeof _bL.prototype.hasOwnProperty==_g&&_bL.prototype.hasOwnProperty('hasOwnProperty'))));};var _O=_a.isArray=function(_I){return _I instanceof Array||(!!_I&&_K(_I.splice));};var _bx=_a.isList=function(_I){return _x(_I)&&typeof _I.length==_e;};var _K=_a.isFunction=function(_I){var _L=_I!=_b&&_I.constructor;return!!(_L&&_L==_L.constructor);};_a.isNumber=function(_I){return typeof _I==_e&&_I===_I;};var _bn=_a.isString=function(_I){return typeof _I==_c;};_a.isBoolean=function(_I){return typeof _I==_f;};_a.isNully=function(_I){return _I==_b;};var _bM=_a.isPrimitive=function(_I){if(_I==_b)return _j;var _J=typeof _I;return _J==_c||_J==_e||_J==_f;};
var _bd=_a.isRegExp=function(_I){return _m.call(_I)=='[object RegExp]';};_a.isIn=function(_3,_I,_bv){return _a.indexIn(_3,_I,_j,_bv)!== -1;};_a.isEmpty=function(_bE){if(_x(_bE)&&_x(_bE=_bE.valueOf())){if(_O(_bE))return!_bE.length;for(var _bi in _bE)return _j;return _k;}return!_bE;};_a.isNaN=function(_I){return _I!==_I;};_a.isSameAs=function(_I,_bN){return _I===_bN||(_I!==_I&&_bN!==_bN);};_a.emptyOut=function(_3){if(_x(_3)){if(_O(_3)){_3.length=0;}else{for(var _S in _3)delete _3[_S];}}return _3;};var _bO=_a.recordMatches=function(_bP,_bQ){if(!_bP)return!_bQ;if(_K(_bQ))return _bQ(_bP);for(var _X in _bQ){if(_bP[_X]!==_bQ[_X])return _j;}return _k;};var _bR=_a.toNumber=function(_I,_bS){if(typeof _I==_e){if(_I==_I)return _I;}else{if(_K(_I))_I=_I();if(_x(_I))_I=_I.valueOf();}return((_I=_I==_b||_I===''||_I!==_I|| !_bM(_I)?NaN: +_I)!=_I&&arguments.length>1?_bS:_I);};_a.findRecordNo=function(_bT,_bQ,_bU){for(var _bV= -1,_bW=_bT?_bT.length:0;++_bV<_bW;)if(_bO(_bT[_bV],_bQ))return _bV;return _T(_bR(_bU,-1),-1,_bW-1);};
_a.findRecord=function(_bT,_bQ,_bU){var _bV=_a.findRecordNo(_bT,_bQ,_bU);return _bV> -1?_bT[_bV]:null;};var _bX=_a.getClass=function(_bY){return(_bY==_b?_b:typeof _bY==_g?_bY:_bY.constructor);};_a.getGuid=function(){return'uizeGuid'+_n++;};var _bZ=_a.getPathToLibrary=function(_b0,_b1){if(typeof document!='undefined'&&document.getElementsByTagName){for(var _b2= -1,_b3=document.getElementsByTagName('SCRIPT'),_b4=_b3.length,_b5,_b6;++_b2<_b4;){if((_b6=(_b5=_b3[_b2].src).indexOf(_b0))> -1)return(_b1?_b5.replace(_b0,_b1):_b5.slice(0,_b5.lastIndexOf('/',_b6)+1));}}return'';};var _b7=_a.globalEval=new _h('toEval','return eval (toEval)');var _b8=_a.isInstance=function(_I){return!!(typeof _I==_d&&_I&&_I.constructor.subclass);};_a.nop=new _h;_a.returnFalse=new _h('return false');_a.returnTrue=new _h('return true');_a.returnX=new _h('x','return x');var _b9=_a.resolveModuleDefinition=function(_ca){var _cb=_ca.name=_ca.name||'',_cc=_ca.host=_cb.substr(0,_cb.lastIndexOf('.')),_cd=_ca.superclass=_ca.superclass||_cc,
_ce=_ca.required;_ce=_ca.required=_bn(_ce)?_ce.split(','):_ce||[];_cc&&_ce.push(_cc);_cd!=_cc&&_ce.push(_cd);return _ca;};_a.module=function(_ca){_b9(_ca);var _cb=_ca.name,_cf=[];_t[_cb]||(_t[_cb]=[]);_2(_ca.required,function(_cg){_cg&& !_br(_cg)&&_cf.push(_cg);});function _ch(_bt){_2(_t[_bt],function(_ci){_ci()});delete _t[_bt];}function _cj(){var _ck=_ca.builder,_bt=_ck&&_ck(_br(_ca.superclass));_cb&&(new _h('m',_cb+'=m'))(_bt=_u[_cb]=_bt||function(){});if(_K(_bt)){_bt.moduleName=_cb;if(!_bt.subclass)_bt.toString=_cl;}_ch(_cb);}var _cm=_cf.length;if(_cm){var _cn=_a.moduleLoader;if(_cn){var _co= -1;function _cp(){_co++;if(_co<_cm){var _cq=_cf[_co];_br(_cq)?_cp():_t[_cq]?_t[_cq].push(_cp):_cn(_cq,function(_cr){if(_br(_cq)){_cp();}else{_cr&&_b7(_cr);if(_br(_cq)){_ch(_cq);_cp();}else{(_t[_cq]||(_t[_cq]=[])).push(_cp);}}});}else{_cj();}}_cp();}else{_cj();}}else{_cj();}};_a.moduleLoader=function(_cq,_cs){_cs();var _ct=document.createElement('script');_ct.type='text/javascript';_ct.src=_a.moduleUrlResolver(_cq);
(_q||(_q=document.getElementsByTagName('HEAD')[0])).appendChild(_ct);};_a.moduleUrlResolver=function(_bs){return _a.moduleUrlTemplate.replace(_p,_bs+'.js');};_a.pairUp=function(_cu){var _R={},_bl=arguments.length==1&&_O(_cu)?_cu:arguments,_cv=_bl.length;if(_cv<3){_R[_bl[0]]=_bl[1];}else{for(var _cw= -2;(_cw+=2)<_cv;)_R[_bl[_cw]]=_bl[_cw+1];}return _R;};var _cx=_a.escapeRegExpLiteral=function(_cy){return _cy.replace(/([\^\$\|\{\}\[\]\(\)\?\.\*\+\\])/g,'\\$1');};_a.substituteInto=function(_3,_cz,_cA){if(!(_3=_3==_b?'':_3+'')||_cz==_b)return _3;if(_bM(_cz))_cz=[_cz];var _cB=(_cA||'[#KEY]').split('KEY'),_cC=[];for(var _cD in _cz)_cC.push(_cx(_cD));return _3.replace(new RegExp(_cx(_cB[0])+'('+_cC.join('|')+')'+_cx(_cB[1]),'g'),function(_cE,_cD){return _cz[_cD]+''});};_a.noNew=function(_L){var _cF;function _cG(){if(_cF){_cF=_j;return this;}else{var _cH=this;if(_cH==_b||_cH.constructor!=_cG){_cF=_k;_cH=new _cG;}_L.apply(_cH,arguments);return _cH;}}return _cG;};
_a.now=new _h('return '+(Date.now?'Date.now()':'+new Date'));var _cl=_a.toString=function(){var _cH=this,_bs=_bX(_cH).moduleName,_cI=_cH.subclass;return('['+(_b8(_cH)||(!_cI&& !_bs)?_d:_cI?'class':'package')+' '+(_bs||'Function')+']');};_a.moduleName='Uize';_a.moduleUrlTemplate=_bZ('Uize.js',_p);_a.pathToResources=_bZ('Uize.js');return _a;})();