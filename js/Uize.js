/*
	UIZE JAVASCRIPT FRAMEWORK 2011-12-28

	http://www.uize.com/reference/Uize.html
	Available under MIT License or GNU General Public License -- http://www.uize.com/license.html
*/
(function(){var _a,_b='string',_c='object',_d='number',_e='boolean',_f=Function,_g=Array,_h=false,_i=true,_j=null;var _k=0,_l=[],_m={},_n='[#modulePath]',_o,_p= !!_g.forEach,_q= !!(_g.indexOf&&_g.lastIndexOf);function _r(_s){return!!_s&&typeof _s==_c}function _t(_s){return _s instanceof Array||(!!_s&&_u(_s.splice))}function _v(_s){return _r(_s)&&typeof _s.length==_d}function _u(_s){var _w=_s!=_a&&_s.constructor;return!!(_w&&_w==_w.constructor);}function _x(_y,_z){if(_y&&_r(_z)){for(var _A in _z)_y[_A]=_z[_A];}if(arguments.length>2){for(var _B=0;++_B<arguments.length;)_x(_y,arguments[_B]);}return _y;}function _C(_s){if(_s==_a)return _s;var _D=typeof _s;if(_D==_b||_D==_d||_D==_e||_u(_s))return _s;var _w=_s.constructor;if(_w==Date||_w==String||_w==Number||_w==Boolean){return new _w(_s.valueOf())}else if(_w==RegExp){return new RegExp(_s.source,(_s.global?'g':'')+(_s.ignoreCase?'i':'')+(_s.multiline?'m':''));};var _E=_w==Object,_F= !_E&&_t(_s);if(_E||_F){var _G,_H,_I=_E?{}:[];if(_F)_I.length=_s.length;
for(var _J in _s)_I[_J]=(_H=typeof(_G=_s[_J]))==_b||_H==_d||_H==_e||_G==_a?_G:_C(_G);return _I;}return _s;}function _K(_w){var _L;function _M(){if(_L){_L=_h;return this;}else{var _N=this;if(_N==_a||_N.constructor!=_M){_L=_i;_N=new _M;}_w.apply(_N,arguments);return _N;}}return _M;}function _O(){function _P(_Q){var _R=_S(_Q).moduleName,_T=_Q.subclass;return('['+(_U(_Q)||(!_T&& !_R)?_c:_T?'class':'package')+' '+(_R||'Function')+']');}var _I=_P(this);if(this.get){var _V=[];_W(this.get(),function(_X,_A){_V.push(_A+' : '+(_X&&(_U(_X)||_u(_X))?_P(_X):_X));});_I+='\n\n'+_V.sort().join('\n');}return _I;}function _Y(){return this[_Z(this,'value')];}var _0=Uize=_1(function(){},function(){this.instanceId=_2();},function(_3){_3||(_3=_m);var _4={},_5=this.Class._5,_J,_6;for(_J in _5){if(_J in _3)_4[_J]=_3[_J];else if((_6=_5[_J])!==_a)_4[_J]=_6;}for(_J in _3)_J in _4||(_4[_J]=_3[_J]);this.set(_4);}),_7=_0.prototype,_8=_0.nonInheritableStatics;function _S(_9){return _9.Class||_9}function _ba(_bb,_s){_8[_bb]=1;
return _0[_bb]=_s;}function _bc(_bd){return(_r(_bd)?_bd:_bd?{constructor:_a,toLocaleString:_a,toString:_a,valueOf:_a}:{});}var _be={},_bf={Uize:_0};function _bg(_R){var _bh;return(_bf[_R]||(_R=='*'&&_bf)||((_bh=(new _f('try {return '+_R+'} catch (e) {}'))())&&(_bf[_R]=_bh)));}function _bi(_bh){_W(_be[_bh],function(_bj){_bj()});delete _be[_bh];}function _bk(_N,_bl){var _0=_S(_N);return(_0._bm[_bl]||_0._bn[_bl]);}function _Z(_N,_bl){var _bo=_bk(_N,_bl);return _bo?_bo._bp:_bl;}_0._bq=_7._bq=function(_br,_bs){if(_br.charCodeAt(0)==67&& !_br.indexOf('Changed.')){var _N=this,_bt=_br.slice(8),_bo=_bk(_N,_bt);if(_bo&&_bt!=_bo._bu)_br='Changed.'+(_bt=_bo._bu);_bs(_br);(_N._bv||(_N._bv={}))[_bt]=_N._bw&&_N._bw[_br];}else{_bs(_br);}};_0.wire=_7.wire=function(_bx,_by){var _N=this;if(arguments.length==2){_N._bq(_bx,function(_br){var _bw=_N._bw||(_N._bw=_N.eventHandlers={});(_bw[_br]||(_bw[_br]=[])).push({_br:_br,_by:_u(_by)?_by:typeof _by==_b?new _f(_by):function(_bz){_by.fire(_bz)},_bA:_by});});}else if(_r(_bx)){
for(var _br in _bx)this.wire(_br,_bx[_br]);}};_0.fire=_7.fire=function(_bz){if(typeof _bz!=_c)_bz={name:_bz};var _N=this,_bw=_N._bw;if(_bw){var _bB=_bw[_bz.name],_bC=_bw['*'];if(_bB||_bC){_bz.source||(_bz.source=_N);var _bD=_bC&&_bB?_bC.concat(_bB):_bC||_bB,_bE=_bD.length;if(_bE==1){_bD[0]._by(_bz);}else if(_bE==2){var _bF=_bD[0]._by,_bG=_bD[1]._by;_bF(_bz);_bG(_bz);}else{if(!_bC|| !_bB)_bD=_bD.concat();for(var _bH= -1;++_bH<_bE;)_bD[_bH]._by(_bz);}}}if(_bz.bubble&&_N.Class&&_N.parent){_bz.source||(_bz.source=_N);_N.parent.fire(_bz);}return _bz;};_0.unwire=_7.unwire=function(_bx,_by){var _N=this,_bw=_N._bw;if(_bw){if(_r(_bx)){for(var _br in _bx)_N.unwire(_br,_bx[_br]);}else{_N._bq(_bx,function(_br){var _bI=_bw[_br];if(_bI){if(_by){for(var _bH=_bI.length;--_bH>=0;)_bI[_bH]._bA==_by&&_bI.splice(_bH,1);}(_by&&_bI.length)||delete _bw[_br];}});}}};_0.get=_7.get=function(_J){if(typeof _J==_b){return this[_Z(this,_J)];}else{var _N=this,_I={};if(!_J){var _0=_S(_N),_bn=_0._bn;for(var _bJ in _bn)_I[_bn[_bJ]._bu]=
_N[_bJ];}else if(_t(_J)){for(var _bK= -1,_bL=_J.length;++_bK<_bL;){var _bM=_J[_bK];_I[_bM]=_N[_Z(_N,_bM)];}}else{for(var _bM in _J)_I[_bM]=_N[_Z(_N,_bM)];}return _I;}};_0.registerProperties=function(_bN){var _N=this,_bn=_N._bn,_bm=_N._bm;for(var _bJ in _bN){var _bO=_bN[_bJ],_bP=_r(_bO),_bt=(_bP?_bO.name:_bO)||_bJ,_bQ=_bt,_bo=_bn[_bJ]={_bp:_bJ};if(_bt.indexOf('|')> -1){var _bR=_bt.split('|');_bQ=_bR[0];_0.lookup(_bR,_bo,_bm);}else{_bm[_bt]=_bo;}_bo._bu=_bQ;if(_bP){if(_bO.onChange)_bo._bS=_bO.onChange;if(_bO.conformer)_bo._bT=_bO.conformer;_N[_bJ]=_bO.value;}}_N._5=this.get();};_0.set=_7.set=function(_3){if(arguments.length>1)_3=_bU.apply(0,arguments);var _N=this,_U= !!_N.Class,_0=_N.Class||_N,_bm=_0._bm,_bn=_0._bn,_bo,_bV,_bW,_bX,_bv=_U&&_N._bv,_bY=_bv&&_bv['*'],_bZ,_b0,_bJ,_bt,_b1,_X,_b2;for(var _bl in _3){_X=_3[_bl];if(_bo=_bm[_bl]||_bn[_bl]){_bJ=_bo._bp;_bt=_bo._bu;}else{(_b1||(_b1={}))[_bJ=_bt=_bl]=_bo=_U?{}:{value:_X};}if(_U)(_b2||(_b2={}))[_bt]=_bo._bT?(_X=_bo._bT.call(_N,_X,_N[_bJ])):_X;
if(_X!==_N[_bJ]){if(_U){_bY&&((_bZ||(_bZ={}))[_bt]=_X);_bv&&_bv[_bt]&&(_b0||(_b0=[])).push(_bt);function _b3(_bX){if(_u(_bX)){if(!_bV){_bV=[];_bW=_N.instanceId+'_handlerAlreadyAdded';}if(!_bX[_bW]){_bX[_bW]=1;_bV.push(_bX);}}else if(typeof _bX==_b){_b3(_N[_bX]);}else if(_t(_bX)){_W(_bX,_b3);}}_bo._bS&&_b3(_bo._bS);}_N[_bJ]=_X;}}_b1&&_0.registerProperties(_b1);if(_U){if(_bV){for(var _bH= -1,_b4=_bV.length;++_bH<_b4;){delete(_bX=_bV[_bH])[_bW];_bX.call(_N,_b2);}}_bZ&&_N.fire({name:'Changed.*',properties:_bZ});if(_b0){for(var _b5= -1,_b6=_b0.length;++_b5<_b6;)_N.fire('Changed.'+_b0[_b5]);}}else{_0._5=this.get();}};_0.toggle=_7.toggle=function(_A){var _s= !this.get(_A);this.set(_A,_s);return _s;};_7.kill=function(){var _b7=this.instanceId;_b8('if(typeof '+_b7+'!=\'undefined\')'+_b7+'=null');};_ba('capFirstChar',function(_b9){return _b9.charAt(0).toUpperCase()+_b9.slice(1);});_ba('clone',_C);_ba('constrain',function(_s,_ca,_cb){return(_ca<_cb?(_s<_ca?_ca:_s>_cb?_cb:_s):(_s<_cb?_cb:_s>_ca?_ca:_s));});_ba('inRange',
function(_s,_ca,_cb){return _s==_0.constrain(_s,_ca,_cb)});_ba('copyInto',_x);var _W=_ba('forEach',function(_cc,_cd,_ce,_cf){if(_cc){var _cg=_t(_cc);if(!_cg||_cc.length){if(typeof _cd==_b)_cd=new _f('value','key','source',_cd);if(_cg){if(_p&& !_cf){_cc.forEach(_cd,_ce);}else{for(var _ch= -1,_ci=_cc.length;++_ch<_ci;)(_cf||_ch in _cc)&&_cd.call(_ce,_cc[_ch],_ch,_cc);}}else if(_r(_cc)){for(var _ch in _cc)_cd.call(_ce,_cc[_ch],_ch,_cc);}else if(typeof _cc==_d){for(var _ch= -1;++_ch<_cc;)_cd.call(_ce,_ch,_ch,_cc);}}}});var _cj=_ba('map',function(_cc,_ck,_cl){if(typeof _cc==_d){_cc=new _g(_cc);if(typeof _cl!=_c)_cl=_cc;}if(typeof _cl!=_c)_cl=_cl===_h?_cc:_t(_cc)?[]:{};if(typeof _ck==_b)_ck=new _f('value','key','return '+_ck);_W(_cc,function(_s,_cm){var _cn=_ck.call(_cc,_s,_cm);if(_cl)_cl[_cm]=_cn;},0,_i);return _cl;});_ba('callOn',function(_cl,_co,_cp){var _cq=_cr(_co),_cs= !_cq&&_u(_co);_cp||(_cp=_l);function _ct(_cl){if(_cl!=_a)_cu(_cl)||_t(_cl)?_W(_cl,_ct,0,_i):_cs||(_cq&&_u(_cl[_co]))
?(_cs?_co:_cl[_co]).apply(_cl,_cp):0;}if(_cq||_cs)_ct(_cl);});_ba('defaultNully',function(_s,_cv){return _s!=_a?_s:_cv});_ba('getModuleByName',_bg);_ba('indexIn',function(_cc,_s,_cw,_cx){var _cy=_v(_cc),_I= -1;if(_cy||_r(_cc)){var _cz=_cy?_cc:_cA(_cc);if((_cx=_cx!==_h)&&_q){_I=_g[_cw?'lastIndexOf':'indexOf'](_cz,_s);}else{for(var _cB=_cz.length,_ch=_cw?_cB: -1,_cC=_cw? -1:1;--_cB>=0;){var _cD=_cz[_ch+=_cC];if(_cx?_cD===_s:_cD==_s){_I=_ch;break;}}}if(!_cy&&_I> -1)_I=_0.keys(_cc)[_I];}return _I;});var _cE=_ba('keys',function(_Q){var _I=[];if(!_cr(_Q))for(var _cm in _Q)_I.push(_cm);return _I;});_ba('totalKeys',function(_Q){var _I=0;if(!_cr(_Q))for(var _cm in _Q)_I++;return _I;});var _cA=_ba('values',function(_Q){if(_t(_Q))return _Q;var _I=[];if(!_cr(_Q))for(var _cm in _Q)_I.push(_Q[_cm]);return _I;});_ba('meldKeysValues',function(_cE,_cA){var _I={};for(var _cF= -1,_cG=Math.min(_cE.length,_cA.length);++_cF<_cG;)_I[_cE[_cF]]=_cA[_cF];return _I;});_ba('min',function(_Q){return Math.min.apply(0,_0.values(_Q))});_ba(
'max',function(_Q){return Math.max.apply(0,_0.values(_Q))});_ba('reverseLookup',function(_Q,_bd){var _cH=_bc(_bd);if(!_cr(_Q))for(var _cm in _Q)_cH[_Q[_cm]+'']=_cm;return _cH;});_ba('lookup',function(_cA,_cI,_bd){var _cH=_bc(_bd);if(arguments.length==1)_cI=_i;if(_cA!=_a){for(var _cJ= -1,_cK=_cA.length;++_cJ<_cK;)_cH[_cA[_cJ]]=_cI;}return _cH;});_ba('isObject',_r);var _cu=_ba('isPlainObject',function(_s){return(_s!=_a&&(_s.constructor==Object||_s.constructor.prototype.hasOwnProperty('hasOwnProperty')));});_ba('isArray',_t);_ba('isList',_v);_ba('isFunction',_u);_ba('isNumber',function(_s){return typeof _s==_d&& !isNaN(_s)});var _cr=_ba('isString',function(_s){return typeof _s==_b});_ba('isBoolean',function(_s){return typeof _s==_e});_ba('isNully',function(_s){return _s==_a});var _cL=_ba('isPrimitive',function(_s){if(_s==_a)return _h;var _D=typeof _s;return _D==_b||_D==_d||_D==_e;});_ba('isIn',function(_cc,_s,_cx){return _0.indexIn(_cc,_s,_h,_cx)!== -1});_ba('isEmpty',function(_Q){
if(_r(_Q)&&_r(_Q=_Q.valueOf())){if(_t(_Q))return!_Q.length;for(var _cm in _Q)return _h;return _i;}return!_Q;});_ba('emptyOut',function(_cc){if(_r(_cc)){if(_t(_cc)){_cc.length=0;}else{for(var _J in _cc)delete _cc[_J];}}return _cc;});var _cM=_ba('recordMatches',function(_cN,_cO){if(!_cN)return!_cO;for(var _A in _cO){if(_cN[_A]!==_cO[_A])return _h;}return _i;});_ba('findRecordNo',function(_cP,_cO,_cQ){if(_cP){for(var _cR= -1,_cS=_cP.length;++_cR<_cS;){if(_cM(_cP[_cR],_cO))return _cR;}}return _cQ==_j||isNaN(_cQ-=0)? -1:_cQ;});_ba('findRecord',function(_cP,_cO,_cQ){return(_cP!=_j&&(_cR=_0.findRecordNo(_cP,_cO,_cQ))> -1?_cP[_cR]:null);});var _2=_ba('getGuid',function(){return'uizeGuid'+_k++});var _cT=_ba('getPathToLibrary',function(_cU,_cV){if(typeof document!='undefined'&&document.getElementsByTagName){for(var _cW= -1,_cX=document.getElementsByTagName('SCRIPT'),_cY=_cX.length,_cZ,_c0;++_cW<_cY;){if((_c0=(_cZ=_cX[_cW].src).indexOf(_cU))> -1)return(_cV?_cZ.replace(_cU,_cV):_cZ.slice(0,_cZ.lastIndexOf('/',_c0)+1));}}
return'';});var _b8=_ba('globalEval',new _f('toEval','return eval (toEval)'));var _U=_ba('isInstance',function(_Q){return!!(_Q&&_Q.Class)});_ba('nop',new Function);_ba('returnFalse',new Function('return false'));_ba('returnTrue',new Function('return true'));_ba('returnX',new Function('x','return x'));_ba('module',function(_c1){var _bb=_c1.name||'',_c2=_bb.substr(0,_bb.lastIndexOf('.')),_c3=_c1.superclass||_c2,_c4=_c1.required||[],_c5=[];_be[_bb]||(_be[_bb]=[]);if(_cr(_c4))_c4=_c4.split(',');_c2&&_c4.push(_c2);_c3!=_c2&&_c4.push(_c3);_W(_c4,function(_c6){_c6&& !_bg(_c6)&&_c5.push(_c6);});function _c7(){var _c8=_c1.builder,_bh=_c8&&_c8(_bg(_c3));_bb&&(new _f('m',_bb+'=m'))(_bh=_bf[_bb]=_bh||function(){});if(_u(_bh)){_bh.moduleName=_bb;if(!_bh.subclass)_bh.toString=_O;}_bi(_bb);}var _c9=_c5.length;if(_c9){var _da=_0.moduleLoader;if(_da){var _db= -1;function _dc(){_db++;if(_db<_c9){var _dd=_c5[_db];_bg(_dd)?_dc():_be[_dd]?_be[_dd].push(_dc):_da(_dd,function(_de){if(_bg(_dd)){_dc();}else{_de&&_b8(_de);
if(_bg(_dd)){_bi(_dd);_dc();}else{(_be[_dd]||(_be[_dd]=[])).push(_dc);}}});}else{_c7();}}_dc();}else{_c7();}}else{_c7();}});_ba('moduleLoader',function(_dd,_df){_df();var _dg=document.createElement('script');_dg.type='text/javascript';_dg.src=_0.moduleUrlResolver(_dd);(_o||(_o=document.getElementsByTagName('HEAD')[0])).appendChild(_dg);});_ba('moduleUrlResolver',function(_R){return _0.moduleUrlTemplate.replace(_n,_R+'.js');});var _bU=_ba('pairUp',function(_dh){var _I={},_cp=arguments.length==1&&_t(_dh)?_dh:arguments,_di=_cp.length;if(_di<3){_I[_cp[0]]=_cp[1];}else{for(var _dj= -2;(_dj+=2)<_di;)_I[_cp[_dj]]=_cp[_dj+1];}return _I;});var _dk=_ba('escapeRegExpLiteral',function(_dl){return _dl.replace(/([\^\$\|\{\}\[\]\(\)\?\.\*\+\\])/g,'\\$1');});var _dm=_ba('substituteInto',function(_cc,_dn,_do){if(!(_cc=_cc==_a?'':_cc+'')||_dn==_a)return _cc;if(_cL(_dn))_dn=[_dn];var _dp=(_do||'[#KEY]').split('KEY'),_dq=[];for(var _dr in _dn)_dq.push(_dk(_dr));return _cc.replace(new RegExp(_dk(_dp[0])+'('+_dq.join('|')+')'+
_dk(_dp[1]),'g'),function(_ds,_dr){return _dn[_dr]+''});});_ba('noNew',_K);function _1(_0,_dt,_du){var _7=_0.prototype,_dv,_dw=_K(function(){for(var _dx= -1,_dy=_dz.length,_dt;++_dx<_dy;)if(_dt=_dz[_dx])_dt.apply(this,arguments);for(var _dA= -1,_dB=_dC.length,_du;++_dA<_dB;)if(_du=_dC[_dA])_du.apply(this,arguments);}),_dD=_dw.prototype;var _X,_dE=_0.nonInheritableStatics||_m;for(var _J in _0)if(!_dE[_J]&&(_X=_0[_J])!=_7&& !(_u(_X)&&_X.moduleName&&/[A-Z]/.test(_J.charAt(0))))_dw[_J]=_C(_X);_x(_dD,_7);_dD.toString=_O;_dD.valueOf=_Y;_dD.Class=_dw;_dw.nonInheritableStatics={nonInheritableStatics:1,toString:0,valueOf:0};_dw.superclass=_0;_dw.toString=_O;_dw.valueOf=_Y;var _dz=_dw._dz=(_0._dz||_l).concat(_dt),_dC=_dw._dC=(_0._dC||_l).concat(_du);_dw._bn||(_dw._bn={});_dw._bm||(_dw._bm={});return _dw;};_0.subclass=function(_dt,_du){return _1(this,_dt,_du);};_0.moduleName='Uize';_ba('moduleUrlTemplate',_cT('Uize.js',_n));_ba('pathToResources',_cT('Uize.js'));})();