/*
	UIZE JAVASCRIPT FRAMEWORK 2011-11-14

	http://www.uize.com/reference/Uize.html
	Available under MIT License or GNU General Public License -- http://www.uize.com/license.html
*/
(function(){var _a,_b='string',_c='object',_d='number',_e='boolean',_f=Function,_g=false,_h=true,_i=null;var _j=0,_k=[],_l={},_m='[#modulePath]',_n;function _o(_p){if(_p==_a)return _p;var _q=typeof _p;if(_q==_b||_q==_d||_q==_e||_r(_p))return _p;var _s=_p.constructor;if(_s==Date||_s==String||_s==Number||_s==Boolean){return new _s(_p.valueOf())}else if(_s==RegExp){return new RegExp(_p.source,(_p.global?'g':'')+(_p.ignoreCase?'i':'')+(_p.multiline?'m':''));};var _t=_s==Object,_u= !_t&&_v(_p);if(_t||_u){var _w,_x,_y=_t?{}:[];if(_u)_y.length=_p.length;for(var _z in _p)_y[_z]=(_x=typeof(_w=_p[_z]))==_b||_x==_d||_x==_e||_w==_a?_w:_o(_w);return _y;}return _p;}function _A(){function _B(_C){var _D=_E(_C).moduleName,_F=_C.subclass;return('['+(_G(_C)||(!_F&& !_D)?_c:_F?'class':'package')+' '+(_D||'Function')+']');}var _y=_B(this);if(this.get){var _H=this.get(),_I=[],_J;for(var _K in _H)_I.push(_K+' : '+((_J=_H[_K])&&(_G(_J)||_r(_J))?_B(_J):_J));_y+='\n\n'+_I.sort().join('\n');}return _y;}function _L(){
return this[_M(this,'value')];}var _N=Uize=_O(function(){},function(){this.instanceId=_P();},function(_H){_H||(_H=_l);var _Q={},_R=this.Class._R,_z,_S;for(_z in _R){if(_z in _H)_Q[_z]=_H[_z];else if((_S=_R[_z])!==_a)_Q[_z]=_S;}for(_z in _H)_z in _Q||(_Q[_z]=_H[_z]);this.set(_Q);}),_T=_N.prototype,_U=_N.nonInheritableStatics;function _E(_V){return _V.Class||_V}function _W(_X,_p){_U[_X]=1;return _N[_X]=_p;}var _Y={},_Z={Uize:_N};function _0(_D){var _1;return(_Z[_D]||(_D=='*'&&_Z)||((_1=(new _f('try {return '+_D+'} catch (e) {}'))())&&(_Z[_D]=_1)));}function _2(_1){var _3=_Y[_1];if(_3){for(var _4= -1,_5=_3.length;++_4<_5;)_3[_4]();delete _Y[_1];}}function _6(_7,_8){var _N=_E(_7);return(_N._9[_8]||_N._ba[_8]);}function _M(_7,_8){var _bb=_6(_7,_8);return _bb?_bb._bc:_8;}_N._bd=_T._bd=function(_be,_bf){if(_be.charCodeAt(0)==67&& !_be.indexOf('Changed.')){var _7=this,_bg=_be.slice(8),_bb=_6(_7,_bg);if(_bb&&_bg!=_bb._bh)_be='Changed.'+(_bg=_bb._bh);_bf(_be);(_7._bi||(_7._bi={}))[_bg]=_7._bj&&_7._bj[_be];}else{
_bf(_be);}};_N.wire=_T.wire=function(_bk,_bl){var _7=this;if(arguments.length==2){_7._bd(_bk,function(_be){var _bj=_7._bj||(_7._bj=_7.eventHandlers={});(_bj[_be]||(_bj[_be]=[])).push({_be:_be,_bl:_r(_bl)?_bl:typeof _bl==_b?new _f(_bl):function(_bm){_bl.fire(_bm)},_bn:_bl});});}else if(_bo(_bk)){for(var _be in _bk)this.wire(_be,_bk[_be]);}};_N.fire=_T.fire=function(_bm){if(typeof _bm!=_c)_bm={name:_bm};var _7=this,_bj=_7._bj;if(_bj){var _bp=_bj[_bm.name],_bq=_bj['*'];if(_bp||_bq){_bm.source||(_bm.source=_7);var _br=_bq&&_bp?_bq.concat(_bp):_bq||_bp,_bs=_br.length;if(_bs==1){_br[0]._bl(_bm);}else if(_bs==2){var _bt=_br[0]._bl,_bu=_br[1]._bl;_bt(_bm);_bu(_bm);}else{if(!_bq|| !_bp)_br=_br.concat();for(var _bv= -1;++_bv<_bs;)_br[_bv]._bl(_bm);}}}if(_bm.bubble&&_7.Class&&_7.parent){_bm.source||(_bm.source=_7);_7.parent.fire(_bm);}return _bm;};_N.unwire=_T.unwire=function(_bk,_bl){var _7=this,_bj=_7._bj;if(_bj){if(_bo(_bk)){for(var _be in _bk)_7.unwire(_be,_bk[_be]);}else{_7._bd(_bk,function(_be){var _bw=_bj[_be];
if(_bw){if(_bl){for(var _bv=_bw.length;--_bv>=0;)_bw[_bv]._bn==_bl&&_bw.splice(_bv,1);}(_bl&&_bw.length)||delete _bj[_be];}});}}};_N.get=_T.get=function(_z){if(typeof _z==_b){return this[_M(this,_z)];}else{var _7=this,_y={};if(!_z){var _N=_E(_7),_ba=_N._ba;for(var _bx in _ba)_y[_ba[_bx]._bh]=_7[_bx];}else if(_v(_z)){for(var _by= -1,_bz=_z.length;++_by<_bz;){var _bA=_z[_by];_y[_bA]=_7[_M(_7,_bA)];}}else{for(var _bA in _z)_y[_bA]=_7[_M(_7,_bA)];}return _y;}};_N.registerProperties=function(_bB){var _7=this,_ba=_7._ba,_9=_7._9;for(var _bx in _bB){var _bC=_bB[_bx],_bD=_bo(_bC),_bg=(_bD?_bC.name:_bC)||_bx,_bE=_bg,_bb=_ba[_bx]={_bc:_bx};if(_bg.indexOf('|')> -1){var _bF=_bg.split('|');_bE=_bF[0];for(var _bG= -1;++_bG<_bF.length;)_9[_bF[_bG]]=_bb;}else{_9[_bg]=_bb;}_bb._bh=_bE;if(_bD){if(_bC.onChange)_bb._bH=_bC.onChange;if(_bC.conformer)_bb._bI=_bC.conformer;_7[_bx]=_bC.value;}}_7._R=this.get();};_N.set=_T.set=function(_H){if(arguments.length>1)_H=_bJ.apply(0,arguments);var _7=this,_G= !!_7.Class,_N=_7.Class||_7,
_9=_N._9,_ba=_N._ba,_bb,_bK,_bL,_bM,_bi=_G&&_7._bi,_bN=_bi&&_bi['*'],_bO,_bP,_bx,_bg,_bQ,_J,_bR;for(var _8 in _H){_J=_H[_8];if(_bb=_9[_8]||_ba[_8]){_bx=_bb._bc;_bg=_bb._bh;}else{(_bQ||(_bQ={}))[_bx=_bg=_8]=_bb=_G?{}:{value:_J};}if(_G)(_bR||(_bR={}))[_bg]=_bb._bI?(_J=_bb._bI.call(_7,_J,_7[_bx])):_J;if(_J!==_7[_bx]){if(_G){_bN&&((_bO||(_bO={}))[_bg]=_J);_bi&&_bi[_bg]&&(_bP||(_bP=[])).push(_bg);function _bS(_bM){if(_r(_bM)){if(!_bK){_bK=[];_bL=_7.instanceId+'_handlerAlreadyAdded';}if(!_bM[_bL]){_bM[_bL]=1;_bK.push(_bM);}}else if(typeof _bM==_b){_bS(_7[_bM]);}else if(_v(_bM)){for(var _bv= -1,_bT=_bM.length;++_bv<_bT;)_bS(_bM[_bv]);}}_bb._bH&&_bS(_bb._bH);}_7[_bx]=_J;}}_bQ&&_N.registerProperties(_bQ);if(_G){if(_bK){for(var _bv= -1,_bU=_bK.length;++_bv<_bU;){delete(_bM=_bK[_bv])[_bL];_bM.call(_7,_bR);}}_bO&&_7.fire({name:'Changed.*',properties:_bO});if(_bP){for(var _bV= -1,_bW=_bP.length;++_bV<_bW;)_7.fire('Changed.'+_bP[_bV]);}}else{_N._R=this.get();}};_N.toggle=_T.toggle=function(_K){var _p= !this.get(_K);
this.set(_K,_p);return _p;};_T.kill=function(){var _bX=this.instanceId;_bY('if(typeof '+_bX+'!=\'undefined\')'+_bX+'=null');};_W('capFirstChar',function(_bZ){return _bZ.charAt(0).toUpperCase()+_bZ.slice(1);});_W('clone',_o);_W('constrain',function(_p,_b0,_b1){return(_b0<_b1?(_p<_b0?_b0:_p>_b1?_b1:_p):(_p<_b1?_b1:_p>_b0?_b0:_p));});_W('inRange',function(_p,_b0,_b1){return _p==_N.constrain(_p,_b0,_b1)});var _b2=_W('copyInto',function(_b3,_b4){if(_b3&&_bo(_b4)){for(var _K in _b4)_b3[_K]=_b4[_K];}if(arguments.length>2){for(var _b5=0;++_b5<arguments.length;)_b2(_b3,arguments[_b5]);}return _b3;});_W('callOn',function(_b6,_b7,_b8){if(_b6==_a)return;_b8||(_b8=_k);var _b9=_ca(_b7),_cb= !_b9&&_r(_b7);function _cc(_b6){if(_b6!=_a){if(_v(_b6)){for(var _cd= -1,_ce=_b6.length;++_cd<_ce;)_cc(_b6[_cd]);}else if(_cf(_b6)){for(var _z in _b6)_cc(_b6[_z]);}else if(_cb||(_b9&&_r(_b6[_b7]))){(_cb?_b7:_b6[_b7]).apply(_b6,_b8);}}}if(_b9||_cb)_cc(_b6);});_W('defaultNully',function(_p,_cg){return _p!=_a?_p:_cg});
_W('getModuleByName',_0);_W('indexIn',function(_ch,_p,_ci,_cj){if(_v(_ch)){_cj=_cj!==_g;for(var _ck=_ch.length-1,_cl=_ck+1,_y;--_cl>=0;){var _cm=_ch[_y=_ci?_cl:_ck-_cl];if(_cj?_cm===_p:_cm==_p)return _y;}}return-1;});_W('keys',function(_C){var _y=[];if(!_ca(_C))for(var _cn in _C)_y.push(_cn);return _y;});_W('totalKeys',function(_C){var _y=0;if(!_ca(_C))for(var _cn in _C)_y++;return _y;});var _co=_W('values',function(_C){if(_v(_C))return _C;var _y=[];if(!_ca(_C))for(var _cn in _C)_y.push(_C[_cn]);return _y;});_W('min',function(_C){return Math.min.apply(0,_N.values(_C))});_W('max',function(_C){return Math.max.apply(0,_N.values(_C))});_W('reverseLookup',function(_C,_cp){var _cq=_N.lookup(_i,0,_cp);if(!_ca(_C))for(var _cn in _C)_cq[_C[_cn]+'']=_cn;return _cq;});_W('lookup',function(_co,_cr,_cp){var _cq=_cp?{constructor:_a,toLocaleString:_a,toString:_a,valueOf:_a}:{};if(arguments.length==1)_cr=_h;if(_co!=_a){for(var _cs= -1,_ct=_co.length;++_cs<_ct;)_cq[_co[_cs]]=_cr;}return _cq;});var _bo=_W('isObject',
function(_p){return!!_p&&typeof _p==_c});var _cf=_W('isPlainObject',function(_p){return(_p!=_a&&(_p.constructor==Object||_p.constructor.prototype.hasOwnProperty('hasOwnProperty')));});var _v=_W('isArray',function(_p){return _p instanceof Array||(!!_p&&_r(_p.splice))});var _r=_W('isFunction',function(_p){var _s=_p!=_a&&_p.constructor;return!!(_s&&_s==_s.constructor);});_W('isNumber',function(_p){return typeof _p==_d&& !isNaN(_p)});var _ca=_W('isString',function(_p){return typeof _p==_b});_W('isBoolean',function(_p){return typeof _p==_e});_W('isNully',function(_p){return _p==_a});var _cu=_W('isPrimitive',function(_p){if(_p==_a)return _g;var _q=typeof _p;return _q==_b||_q==_d||_q==_e;});_W('isIn',function(_cv,_p,_cj){return _N.indexIn(_co(_cv),_p,_g,_cj)> -1});_W('isEmpty',function(_C){if(_bo(_C)&&_C.constructor!=_l.constructor)_C=_C.valueOf();if(_bo(_C)){if(_v(_C))return!_C.length;for(var _cn in _C)return _g;return _h;}return!_C;});_W('emptyOut',function(_cv){if(_bo(_cv)){if(_v(_cv)){_cv.length=0;}else{
for(var _z in _cv)delete _cv[_z];}}return _cv;});var _cw=_W('recordMatches',function(_cx,_cy){if(!_cx)return!_cy;for(var _K in _cy){if(_cx[_K]!==_cy[_K])return _g;}return _h;});_W('findRecordNo',function(_cz,_cy,_cA){if(_cz){for(var _cB= -1,_cC=_cz.length;++_cB<_cC;){if(_cw(_cz[_cB],_cy))return _cB;}}return _cA==_i||isNaN(_cA-=0)? -1:_cA;});_W('findRecord',function(_cz,_cy,_cA){return(_cz!=_i&&(_cB=_N.findRecordNo(_cz,_cy,_cA))> -1?_cz[_cB]:null);});var _P=_W('getGuid',function(){return'uizeGuid'+_j++});var _cD=_W('getPathToLibrary',function(_cE,_cF){if(typeof document!='undefined'&&document.getElementsByTagName){for(var _cG= -1,_cH=document.getElementsByTagName('SCRIPT'),_cI=_cH.length,_cJ,_cK;++_cG<_cI;){if((_cK=(_cJ=_cH[_cG].src).indexOf(_cE))> -1)return(_cF?_cJ.replace(_cE,_cF):_cJ.slice(0,_cJ.lastIndexOf('/',_cK)+1));}}return'';});var _bY=_W('globalEval',new _f('toEval','return eval (toEval)'));var _G=_W('isInstance',function(_C){return!!(_C&&_C.Class)});_W('module',function(_cL){var _X=_cL.name||'',
_cM=_X.substr(0,_X.lastIndexOf('.')),_cN=_cL.superclass||_cM,_cO=_cL.required||[],_cP=[];_Y[_X]||(_Y[_X]=[]);if(_ca(_cO))_cO=_cO.split(',');_cM&&_cO.push(_cM);_cN!=_cM&&_cO.push(_cN);for(var _cQ= -1,_cR=_cO.length,_cS;++_cQ<_cR;){(_cS=_cO[_cQ])&& !_0(_cS)&&_cP.push(_cS);}function _cT(){var _cU=_cL.builder,_1=_cU&&_cU(_0(_cN));_X&&(new _f('m',_X+'=m'))(_1=_Z[_X]=_1||function(){});if(_r(_1)){_1.moduleName=_X;if(!_1.subclass)_1.toString=_A;}_2(_X);}var _cV=_cP.length;if(_cV){var _cW=_N.moduleLoader;if(_cW){var _cX= -1;function _cY(){_cX++;if(_cX<_cV){var _cZ=_cP[_cX];_0(_cZ)?_cY():_Y[_cZ]?_Y[_cZ].push(_cY):_cW(_cZ,function(_c0){if(_0(_cZ)){_cY();}else{_c0&&_bY(_c0);if(_0(_cZ)){_2(_cZ);_cY();}else{(_Y[_cZ]||(_Y[_cZ]=[])).push(_cY);}}});}else{_cT();}}_cY();}else{_cT();}}else{_cT();}});_W('moduleLoader',function(_cZ,_c1){_c1();var _c2=document.createElement('script');_c2.type='text/javascript';_c2.src=_N.moduleUrlResolver(_cZ);(_n||(_n=document.getElementsByTagName('HEAD')[0])).appendChild(_c2);});_W(
'moduleUrlResolver',function(_D){return _N.moduleUrlTemplate.replace(_m,_D+'.js');});var _bJ=_W('pairUp',function(_c3){var _y={},_b8=arguments.length==1&&_v(_c3)?_c3:arguments,_c4=_b8.length;if(_c4<3){_y[_b8[0]]=_b8[1];}else{for(var _c5= -2;(_c5+=2)<_c4;)_y[_b8[_c5]]=_b8[_c5+1];}return _y;});var _c6=_W('escapeRegExpLiteral',function(_c7){return _c7.replace(/([\^\$\|\{\}\[\]\(\)\?\.\*\+\\])/g,'\\$1');});var _c8=_W('substituteInto',function(_cv,_c9,_da){if(!(_cv=_cv==_a?'':_cv+'')||_c9==_a)return _cv;if(_cu(_c9))_c9=[_c9];var _db=(_da||'[#KEY]').split('KEY'),_dc=[];for(var _dd in _c9)_dc.push(_c6(_dd));return _cv.replace(new RegExp(_c6(_db[0])+'('+_dc.join('|')+')'+_c6(_db[1]),'g'),function(_de,_dd){return _c9[_dd]+''});});function _O(_N,_df,_dg){var _dh=function(){var _di,_dj,_dk;for(var _dl in _dm){_dj=(_di=_dm[_dl]).length;for(var _dn= -1;++_dn<_dj;)if(_dk=_di[_dn])_dk.apply(this,arguments);}return this;};var _T=_N.prototype;var _J,_do=_N.nonInheritableStatics||_l;for(var _z in _N)if(!_do[_z]&&
(_J=_N[_z])!=_T&& !(_r(_J)&&_J.moduleName&&/[A-Z]/.test(_z.charAt(0))))_dh[_z]=_o(_J);var _dp=_dh.prototype;for(var _z in _T)_dp[_z]=_T[_z];_dp.toString=_A;_dp.valueOf=_L;_dp.Class=_dh;_dh.nonInheritableStatics={nonInheritableStatics:1,toString:0,valueOf:0};_dh.superclass=_N;_dh.toString=_A;_dh.valueOf=_L;var _dq=_N._dq||{alphastructor:_k,omegastructor:_k},_dm=_dh._dq={alphastructor:_dq.alphastructor.concat(_df),omegastructor:_dq.omegastructor.concat(_dg)};_dh._ba||(_dh._ba={});_dh._9||(_dh._9={});return _dh;};_N.subclass=function(_df,_dg){return _O(this,_df,_dg);};_N.moduleName='Uize';_W('moduleUrlTemplate',_cD('Uize.js',_m));_W('pathToResources',_cD('Uize.js'));})();