/*
	UIZE JAVASCRIPT FRAMEWORK 2011-12-23

	http://www.uize.com/reference/Uize.html
	Available under MIT License or GNU General Public License -- http://www.uize.com/license.html
*/
(function(){var _a,_b='string',_c='object',_d='number',_e='boolean',_f=Function,_g=false,_h=true,_i=null;var _j=0,_k=[],_l={},_m='[#modulePath]',_n,_o= !!Array.prototype.forEach;function _p(_q){return!!_q&&typeof _q==_c}function _r(_q){return _q instanceof Array||(!!_q&&_s(_q.splice))}function _s(_q){var _t=_q!=_a&&_q.constructor;return!!(_t&&_t==_t.constructor);}function _u(_v,_w){if(_v&&_p(_w)){for(var _x in _w)_v[_x]=_w[_x];}if(arguments.length>2){for(var _y=0;++_y<arguments.length;)_u(_v,arguments[_y]);}return _v;}function _z(_q){if(_q==_a)return _q;var _A=typeof _q;if(_A==_b||_A==_d||_A==_e||_s(_q))return _q;var _t=_q.constructor;if(_t==Date||_t==String||_t==Number||_t==Boolean){return new _t(_q.valueOf())}else if(_t==RegExp){return new RegExp(_q.source,(_q.global?'g':'')+(_q.ignoreCase?'i':'')+(_q.multiline?'m':''));};var _B=_t==Object,_C= !_B&&_r(_q);if(_B||_C){var _D,_E,_F=_B?{}:[];if(_C)_F.length=_q.length;for(var _G in _q)_F[_G]=(_E=typeof(_D=_q[_G]))==_b||_E==_d||_E==_e||_D==_a?_D:_z(_D);return _F;
}return _q;}function _H(_t){var _I;function _J(){if(_I){_I=_g;return this;}else{var _K=this;if(_K==_a||_K.constructor!=_J){_I=_h;_K=new _J;}_t.apply(_K,arguments);return _K;}}return _J;}function _L(){function _M(_N){var _O=_P(_N).moduleName,_Q=_N.subclass;return('['+(_R(_N)||(!_Q&& !_O)?_c:_Q?'class':'package')+' '+(_O||'Function')+']');}var _F=_M(this);if(this.get){var _S=[];_T(this.get(),function(_U,_x){_S.push(_x+' : '+(_U&&(_R(_U)||_s(_U))?_M(_U):_U));});_F+='\n\n'+_S.sort().join('\n');}return _F;}function _V(){return this[_W(this,'value')];}var _X=Uize=_Y(function(){},function(){this.instanceId=_Z();},function(_0){_0||(_0=_l);var _1={},_2=this.Class._2,_G,_3;for(_G in _2){if(_G in _0)_1[_G]=_0[_G];else if((_3=_2[_G])!==_a)_1[_G]=_3;}for(_G in _0)_G in _1||(_1[_G]=_0[_G]);this.set(_1);}),_4=_X.prototype,_5=_X.nonInheritableStatics;function _P(_6){return _6.Class||_6}function _7(_8,_q){_5[_8]=1;return _X[_8]=_q;}function _9(_ba){return(_p(_ba)?_ba:_ba
?{constructor:_a,toLocaleString:_a,toString:_a,valueOf:_a}:{});}var _bb={},_bc={Uize:_X};function _bd(_O){var _be;return(_bc[_O]||(_O=='*'&&_bc)||((_be=(new _f('try {return '+_O+'} catch (e) {}'))())&&(_bc[_O]=_be)));}function _bf(_be){_T(_bb[_be],function(_bg){_bg()});delete _bb[_be];}function _bh(_K,_bi){var _X=_P(_K);return(_X._bj[_bi]||_X._bk[_bi]);}function _W(_K,_bi){var _bl=_bh(_K,_bi);return _bl?_bl._bm:_bi;}_X._bn=_4._bn=function(_bo,_bp){if(_bo.charCodeAt(0)==67&& !_bo.indexOf('Changed.')){var _K=this,_bq=_bo.slice(8),_bl=_bh(_K,_bq);if(_bl&&_bq!=_bl._br)_bo='Changed.'+(_bq=_bl._br);_bp(_bo);(_K._bs||(_K._bs={}))[_bq]=_K._bt&&_K._bt[_bo];}else{_bp(_bo);}};_X.wire=_4.wire=function(_bu,_bv){var _K=this;if(arguments.length==2){_K._bn(_bu,function(_bo){var _bt=_K._bt||(_K._bt=_K.eventHandlers={});(_bt[_bo]||(_bt[_bo]=[])).push({_bo:_bo,_bv:_s(_bv)?_bv:typeof _bv==_b?new _f(_bv):function(_bw){_bv.fire(_bw)},_bx:_bv});});}else if(_p(_bu)){for(var _bo in _bu)this.wire(_bo,_bu[_bo]);}};
_X.fire=_4.fire=function(_bw){if(typeof _bw!=_c)_bw={name:_bw};var _K=this,_bt=_K._bt;if(_bt){var _by=_bt[_bw.name],_bz=_bt['*'];if(_by||_bz){_bw.source||(_bw.source=_K);var _bA=_bz&&_by?_bz.concat(_by):_bz||_by,_bB=_bA.length;if(_bB==1){_bA[0]._bv(_bw);}else if(_bB==2){var _bC=_bA[0]._bv,_bD=_bA[1]._bv;_bC(_bw);_bD(_bw);}else{if(!_bz|| !_by)_bA=_bA.concat();for(var _bE= -1;++_bE<_bB;)_bA[_bE]._bv(_bw);}}}if(_bw.bubble&&_K.Class&&_K.parent){_bw.source||(_bw.source=_K);_K.parent.fire(_bw);}return _bw;};_X.unwire=_4.unwire=function(_bu,_bv){var _K=this,_bt=_K._bt;if(_bt){if(_p(_bu)){for(var _bo in _bu)_K.unwire(_bo,_bu[_bo]);}else{_K._bn(_bu,function(_bo){var _bF=_bt[_bo];if(_bF){if(_bv){for(var _bE=_bF.length;--_bE>=0;)_bF[_bE]._bx==_bv&&_bF.splice(_bE,1);}(_bv&&_bF.length)||delete _bt[_bo];}});}}};_X.get=_4.get=function(_G){if(typeof _G==_b){return this[_W(this,_G)];}else{var _K=this,_F={};if(!_G){var _X=_P(_K),_bk=_X._bk;for(var _bG in _bk)_F[_bk[_bG]._br]=_K[_bG];}else if(_r(_G)){for(
var _bH= -1,_bI=_G.length;++_bH<_bI;){var _bJ=_G[_bH];_F[_bJ]=_K[_W(_K,_bJ)];}}else{for(var _bJ in _G)_F[_bJ]=_K[_W(_K,_bJ)];}return _F;}};_X.registerProperties=function(_bK){var _K=this,_bk=_K._bk,_bj=_K._bj;for(var _bG in _bK){var _bL=_bK[_bG],_bM=_p(_bL),_bq=(_bM?_bL.name:_bL)||_bG,_bN=_bq,_bl=_bk[_bG]={_bm:_bG};if(_bq.indexOf('|')> -1){var _bO=_bq.split('|');_bN=_bO[0];_X.lookup(_bO,_bl,_bj);}else{_bj[_bq]=_bl;}_bl._br=_bN;if(_bM){if(_bL.onChange)_bl._bP=_bL.onChange;if(_bL.conformer)_bl._bQ=_bL.conformer;_K[_bG]=_bL.value;}}_K._2=this.get();};_X.set=_4.set=function(_0){if(arguments.length>1)_0=_bR.apply(0,arguments);var _K=this,_R= !!_K.Class,_X=_K.Class||_K,_bj=_X._bj,_bk=_X._bk,_bl,_bS,_bT,_bU,_bs=_R&&_K._bs,_bV=_bs&&_bs['*'],_bW,_bX,_bG,_bq,_bY,_U,_bZ;for(var _bi in _0){_U=_0[_bi];if(_bl=_bj[_bi]||_bk[_bi]){_bG=_bl._bm;_bq=_bl._br;}else{(_bY||(_bY={}))[_bG=_bq=_bi]=_bl=_R?{}:{value:_U};}if(_R)(_bZ||(_bZ={}))[_bq]=_bl._bQ?(_U=_bl._bQ.call(_K,_U,_K[_bG])):_U;if(_U!==_K[_bG]){if(_R){_bV&&((_bW||(_bW={}))
[_bq]=_U);_bs&&_bs[_bq]&&(_bX||(_bX=[])).push(_bq);function _b0(_bU){if(_s(_bU)){if(!_bS){_bS=[];_bT=_K.instanceId+'_handlerAlreadyAdded';}if(!_bU[_bT]){_bU[_bT]=1;_bS.push(_bU);}}else if(typeof _bU==_b){_b0(_K[_bU]);}else if(_r(_bU)){_T(_bU,_b0);}}_bl._bP&&_b0(_bl._bP);}_K[_bG]=_U;}}_bY&&_X.registerProperties(_bY);if(_R){if(_bS){for(var _bE= -1,_b1=_bS.length;++_bE<_b1;){delete(_bU=_bS[_bE])[_bT];_bU.call(_K,_bZ);}}_bW&&_K.fire({name:'Changed.*',properties:_bW});if(_bX){for(var _b2= -1,_b3=_bX.length;++_b2<_b3;)_K.fire('Changed.'+_bX[_b2]);}}else{_X._2=this.get();}};_X.toggle=_4.toggle=function(_x){var _q= !this.get(_x);this.set(_x,_q);return _q;};_4.kill=function(){var _b4=this.instanceId;_b5('if(typeof '+_b4+'!=\'undefined\')'+_b4+'=null');};_7('capFirstChar',function(_b6){return _b6.charAt(0).toUpperCase()+_b6.slice(1);});_7('clone',_z);_7('constrain',function(_q,_b7,_b8){return(_b7<_b8?(_q<_b7?_b7:_q>_b8?_b8:_q):(_q<_b8?_b8:_q>_b7?_b7:_q));});_7('inRange',
function(_q,_b7,_b8){return _q==_X.constrain(_q,_b7,_b8)});_7('copyInto',_u);var _T=_7('forEach',function(_b9,_ca,_cb,_cc){if(_b9){var _cd=_r(_b9);if(!_cd||_b9.length){if(typeof _ca==_b)_ca=new _f('value','key','source',_ca);if(_cd){if(_o&& !_cc){_b9.forEach(_ca,_cb);}else{for(var _ce= -1,_cf=_b9.length;++_ce<_cf;)(_cc||_ce in _b9)&&_ca.call(_cb,_b9[_ce],_ce,_b9);}}else if(_p(_b9)){for(var _ce in _b9)_ca.call(_cb,_b9[_ce],_ce,_b9);}else if(typeof _b9==_d){for(var _ce= -1;++_ce<_b9;)_ca.call(_cb,_ce,_ce,_b9);}}}});var _cg=_7('map',function(_b9,_ch,_ci){if(typeof _b9==_d){_b9=new Array(_b9);if(typeof _ci!=_c)_ci=_b9;}if(typeof _ci!=_c)_ci=_ci===_g?_b9:_r(_b9)?[]:{};if(typeof _ch==_b)_ch=new _f('value','key','return '+_ch);_T(_b9,function(_q,_cj){var _ck=_ch.call(_b9,_q,_cj);if(_ci)_ci[_cj]=_ck;},0,_h);return _ci;});_7('callOn',function(_ci,_cl,_cm){var _cn=_co(_cl),_cp= !_cn&&_s(_cl);_cm||(_cm=_k);function _cq(_ci){if(_ci!=_a)_cr(_ci)||_r(_ci)?_T(_ci,_cq,0,_h):_cp||(_cn&&_s(_ci[_cl]))
?(_cp?_cl:_ci[_cl]).apply(_ci,_cm):0;}if(_cn||_cp)_cq(_ci);});_7('defaultNully',function(_q,_cs){return _q!=_a?_q:_cs});_7('getModuleByName',_bd);_7('indexIn',function(_ct,_q,_cu,_cv){if(_r(_ct)){_cv=_cv!==_g;for(var _cw=_ct.length-1,_cx=_cw+1,_F;--_cx>=0;){var _cy=_ct[_F=_cu?_cx:_cw-_cx];if(_cv?_cy===_q:_cy==_q)return _F;}}return-1;});_7('keys',function(_N){var _F=[];if(!_co(_N))for(var _cj in _N)_F.push(_cj);return _F;});_7('totalKeys',function(_N){var _F=0;if(!_co(_N))for(var _cj in _N)_F++;return _F;});var _cz=_7('values',function(_N){if(_r(_N))return _N;var _F=[];if(!_co(_N))for(var _cj in _N)_F.push(_N[_cj]);return _F;});_7('meldKeysValues',function(_cA,_cz){var _F={};for(var _cB= -1,_cC=Math.min(_cA.length,_cz.length);++_cB<_cC;)_F[_cA[_cB]]=_cz[_cB];return _F;});_7('min',function(_N){return Math.min.apply(0,_X.values(_N))});_7('max',function(_N){return Math.max.apply(0,_X.values(_N))});_7('reverseLookup',function(_N,_ba){var _cD=_9(_ba);if(!_co(_N))for(var _cj in _N)_cD[_N[_cj]+'']=_cj;return _cD;});
_7('lookup',function(_cz,_cE,_ba){var _cD=_9(_ba);if(arguments.length==1)_cE=_h;if(_cz!=_a){for(var _cF= -1,_cG=_cz.length;++_cF<_cG;)_cD[_cz[_cF]]=_cE;}return _cD;});_7('isObject',_p);var _cr=_7('isPlainObject',function(_q){return(_q!=_a&&(_q.constructor==Object||_q.constructor.prototype.hasOwnProperty('hasOwnProperty')));});_7('isArray',_r);_7('isFunction',_s);_7('isNumber',function(_q){return typeof _q==_d&& !isNaN(_q)});var _co=_7('isString',function(_q){return typeof _q==_b});_7('isBoolean',function(_q){return typeof _q==_e});_7('isNully',function(_q){return _q==_a});var _cH=_7('isPrimitive',function(_q){if(_q==_a)return _g;var _A=typeof _q;return _A==_b||_A==_d||_A==_e;});_7('isIn',function(_b9,_q,_cv){return _X.indexIn(_cz(_b9),_q,_g,_cv)> -1});_7('isEmpty',function(_N){if(_p(_N)&&_p(_N=_N.valueOf())){if(_r(_N))return!_N.length;for(var _cj in _N)return _g;return _h;}return!_N;});_7('emptyOut',function(_b9){if(_p(_b9)){if(_r(_b9)){_b9.length=0;}else{for(var _G in _b9)delete _b9[_G];}}return _b9;});
var _cI=_7('recordMatches',function(_cJ,_cK){if(!_cJ)return!_cK;for(var _x in _cK){if(_cJ[_x]!==_cK[_x])return _g;}return _h;});_7('findRecordNo',function(_cL,_cK,_cM){if(_cL){for(var _cN= -1,_cO=_cL.length;++_cN<_cO;){if(_cI(_cL[_cN],_cK))return _cN;}}return _cM==_i||isNaN(_cM-=0)? -1:_cM;});_7('findRecord',function(_cL,_cK,_cM){return(_cL!=_i&&(_cN=_X.findRecordNo(_cL,_cK,_cM))> -1?_cL[_cN]:null);});var _Z=_7('getGuid',function(){return'uizeGuid'+_j++});var _cP=_7('getPathToLibrary',function(_cQ,_cR){if(typeof document!='undefined'&&document.getElementsByTagName){for(var _cS= -1,_cT=document.getElementsByTagName('SCRIPT'),_cU=_cT.length,_cV,_cW;++_cS<_cU;){if((_cW=(_cV=_cT[_cS].src).indexOf(_cQ))> -1)return(_cR?_cV.replace(_cQ,_cR):_cV.slice(0,_cV.lastIndexOf('/',_cW)+1));}}return'';});var _b5=_7('globalEval',new _f('toEval','return eval (toEval)'));var _R=_7('isInstance',function(_N){return!!(_N&&_N.Class)});_7('nop',new Function);_7('returnFalse',new Function('return false'));
_7('returnTrue',new Function('return true'));_7('returnX',new Function('x','return x'));_7('module',function(_cX){var _8=_cX.name||'',_cY=_8.substr(0,_8.lastIndexOf('.')),_cZ=_cX.superclass||_cY,_c0=_cX.required||[],_c1=[];_bb[_8]||(_bb[_8]=[]);if(_co(_c0))_c0=_c0.split(',');_cY&&_c0.push(_cY);_cZ!=_cY&&_c0.push(_cZ);_T(_c0,function(_c2){_c2&& !_bd(_c2)&&_c1.push(_c2);});function _c3(){var _c4=_cX.builder,_be=_c4&&_c4(_bd(_cZ));_8&&(new _f('m',_8+'=m'))(_be=_bc[_8]=_be||function(){});if(_s(_be)){_be.moduleName=_8;if(!_be.subclass)_be.toString=_L;}_bf(_8);}var _c5=_c1.length;if(_c5){var _c6=_X.moduleLoader;if(_c6){var _c7= -1;function _c8(){_c7++;if(_c7<_c5){var _c9=_c1[_c7];_bd(_c9)?_c8():_bb[_c9]?_bb[_c9].push(_c8):_c6(_c9,function(_da){if(_bd(_c9)){_c8();}else{_da&&_b5(_da);if(_bd(_c9)){_bf(_c9);_c8();}else{(_bb[_c9]||(_bb[_c9]=[])).push(_c8);}}});}else{_c3();}}_c8();}else{_c3();}}else{_c3();}});_7('moduleLoader',function(_c9,_db){_db();var _dc=document.createElement('script');_dc.type='text/javascript';
_dc.src=_X.moduleUrlResolver(_c9);(_n||(_n=document.getElementsByTagName('HEAD')[0])).appendChild(_dc);});_7('moduleUrlResolver',function(_O){return _X.moduleUrlTemplate.replace(_m,_O+'.js');});var _bR=_7('pairUp',function(_dd){var _F={},_cm=arguments.length==1&&_r(_dd)?_dd:arguments,_de=_cm.length;if(_de<3){_F[_cm[0]]=_cm[1];}else{for(var _df= -2;(_df+=2)<_de;)_F[_cm[_df]]=_cm[_df+1];}return _F;});var _dg=_7('escapeRegExpLiteral',function(_dh){return _dh.replace(/([\^\$\|\{\}\[\]\(\)\?\.\*\+\\])/g,'\\$1');});var _di=_7('substituteInto',function(_b9,_dj,_dk){if(!(_b9=_b9==_a?'':_b9+'')||_dj==_a)return _b9;if(_cH(_dj))_dj=[_dj];var _dl=(_dk||'[#KEY]').split('KEY'),_dm=[];for(var _dn in _dj)_dm.push(_dg(_dn));return _b9.replace(new RegExp(_dg(_dl[0])+'('+_dm.join('|')+')'+_dg(_dl[1]),'g'),function(_do,_dn){return _dj[_dn]+''});});_7('noNew',_H);function _Y(_X,_dp,_dq){var _4=_X.prototype,_dr,_ds=_H(function(){for(var _dt= -1,_du=_dv.length,_dp;++_dt<_du;)if(_dp=_dv[_dt])_dp.apply(this,arguments);for(
var _dw= -1,_dx=_dy.length,_dq;++_dw<_dx;)if(_dq=_dy[_dw])_dq.apply(this,arguments);}),_dz=_ds.prototype;var _U,_dA=_X.nonInheritableStatics||_l;for(var _G in _X)if(!_dA[_G]&&(_U=_X[_G])!=_4&& !(_s(_U)&&_U.moduleName&&/[A-Z]/.test(_G.charAt(0))))_ds[_G]=_z(_U);_u(_dz,_4);_dz.toString=_L;_dz.valueOf=_V;_dz.Class=_ds;_ds.nonInheritableStatics={nonInheritableStatics:1,toString:0,valueOf:0};_ds.superclass=_X;_ds.toString=_L;_ds.valueOf=_V;var _dv=_ds._dv=(_X._dv||_k).concat(_dp),_dy=_ds._dy=(_X._dy||_k).concat(_dq);_ds._bk||(_ds._bk={});_ds._bj||(_ds._bj={});return _ds;};_X.subclass=function(_dp,_dq){return _Y(this,_dp,_dq);};_X.moduleName='Uize';_7('moduleUrlTemplate',_cP('Uize.js',_m));_7('pathToResources',_cP('Uize.js'));})();