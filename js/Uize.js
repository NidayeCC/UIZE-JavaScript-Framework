/*
	UIZE JAVASCRIPT FRAMEWORK 2011-12-10

	http://www.uize.com/reference/Uize.html
	Available under MIT License or GNU General Public License -- http://www.uize.com/license.html
*/
(function(){var _a,_b='string',_c='object',_d='number',_e='boolean',_f=Function,_g=false,_h=true,_i=null;var _j=0,_k=[],_l={},_m='[#modulePath]',_n,_o= !!Array.prototype.forEach;function _p(_q){return!!_q&&typeof _q==_c}function _r(_q){return _q instanceof Array||(!!_q&&_s(_q.splice))}function _s(_q){var _t=_q!=_a&&_q.constructor;return!!(_t&&_t==_t.constructor);}function _u(_v,_w){if(_v&&_p(_w)){for(var _x in _w)_v[_x]=_w[_x];}if(arguments.length>2){for(var _y=0;++_y<arguments.length;)_u(_v,arguments[_y]);}return _v;}function _z(_q){if(_q==_a)return _q;var _A=typeof _q;if(_A==_b||_A==_d||_A==_e||_s(_q))return _q;var _t=_q.constructor;if(_t==Date||_t==String||_t==Number||_t==Boolean){return new _t(_q.valueOf())}else if(_t==RegExp){return new RegExp(_q.source,(_q.global?'g':'')+(_q.ignoreCase?'i':'')+(_q.multiline?'m':''));};var _B=_t==Object,_C= !_B&&_r(_q);if(_B||_C){var _D,_E,_F=_B?{}:[];if(_C)_F.length=_q.length;for(var _G in _q)_F[_G]=(_E=typeof(_D=_q[_G]))==_b||_E==_d||_E==_e||_D==_a?_D:_z(_D);return _F;
}return _q;}function _H(){function _I(_J){var _K=_L(_J).moduleName,_M=_J.subclass;return('['+(_N(_J)||(!_M&& !_K)?_c:_M?'class':'package')+' '+(_K||'Function')+']');}var _F=_I(this);if(this.get){var _O=[];_P(this.get(),function(_Q,_x){_O.push(_x+' : '+(_Q&&(_N(_Q)||_s(_Q))?_I(_Q):_Q));});_F+='\n\n'+_O.sort().join('\n');}return _F;}function _R(){return this[_S(this,'value')];}var _T=Uize=_U(function(){},function(){this.instanceId=_V();},function(_W){_W||(_W=_l);var _X={},_Y=this.Class._Y,_G,_Z;for(_G in _Y){if(_G in _W)_X[_G]=_W[_G];else if((_Z=_Y[_G])!==_a)_X[_G]=_Z;}for(_G in _W)_G in _X||(_X[_G]=_W[_G]);this.set(_X);}),_0=_T.prototype,_1=_T.nonInheritableStatics;function _L(_2){return _2.Class||_2}function _3(_4,_q){_1[_4]=1;return _T[_4]=_q;}function _5(_6){return(_p(_6)?_6:_6?{constructor:_a,toLocaleString:_a,toString:_a,valueOf:_a}:{});}var _7={},_8={Uize:_T};function _9(_K){var _ba;return(_8[_K]||(_K=='*'&&_8)||((_ba=(new _f('try {return '+_K+'} catch (e) {}'))())&&(_8[_K]=_ba)));}function _bb(_ba){
_P(_7[_ba],function(_bc){_bc()});delete _7[_ba];}function _bd(_be,_bf){var _T=_L(_be);return(_T._bg[_bf]||_T._bh[_bf]);}function _S(_be,_bf){var _bi=_bd(_be,_bf);return _bi?_bi._bj:_bf;}_T._bk=_0._bk=function(_bl,_bm){if(_bl.charCodeAt(0)==67&& !_bl.indexOf('Changed.')){var _be=this,_bn=_bl.slice(8),_bi=_bd(_be,_bn);if(_bi&&_bn!=_bi._bo)_bl='Changed.'+(_bn=_bi._bo);_bm(_bl);(_be._bp||(_be._bp={}))[_bn]=_be._bq&&_be._bq[_bl];}else{_bm(_bl);}};_T.wire=_0.wire=function(_br,_bs){var _be=this;if(arguments.length==2){_be._bk(_br,function(_bl){var _bq=_be._bq||(_be._bq=_be.eventHandlers={});(_bq[_bl]||(_bq[_bl]=[])).push({_bl:_bl,_bs:_s(_bs)?_bs:typeof _bs==_b?new _f(_bs):function(_bt){_bs.fire(_bt)},_bu:_bs});});}else if(_p(_br)){for(var _bl in _br)this.wire(_bl,_br[_bl]);}};_T.fire=_0.fire=function(_bt){if(typeof _bt!=_c)_bt={name:_bt};var _be=this,_bq=_be._bq;if(_bq){var _bv=_bq[_bt.name],_bw=_bq['*'];if(_bv||_bw){_bt.source||(_bt.source=_be);var _bx=_bw&&_bv?_bw.concat(_bv):_bw||_bv,_by=_bx.length;if(_by==1){
_bx[0]._bs(_bt);}else if(_by==2){var _bz=_bx[0]._bs,_bA=_bx[1]._bs;_bz(_bt);_bA(_bt);}else{if(!_bw|| !_bv)_bx=_bx.concat();for(var _bB= -1;++_bB<_by;)_bx[_bB]._bs(_bt);}}}if(_bt.bubble&&_be.Class&&_be.parent){_bt.source||(_bt.source=_be);_be.parent.fire(_bt);}return _bt;};_T.unwire=_0.unwire=function(_br,_bs){var _be=this,_bq=_be._bq;if(_bq){if(_p(_br)){for(var _bl in _br)_be.unwire(_bl,_br[_bl]);}else{_be._bk(_br,function(_bl){var _bC=_bq[_bl];if(_bC){if(_bs){for(var _bB=_bC.length;--_bB>=0;)_bC[_bB]._bu==_bs&&_bC.splice(_bB,1);}(_bs&&_bC.length)||delete _bq[_bl];}});}}};_T.get=_0.get=function(_G){if(typeof _G==_b){return this[_S(this,_G)];}else{var _be=this,_F={};if(!_G){var _T=_L(_be),_bh=_T._bh;for(var _bD in _bh)_F[_bh[_bD]._bo]=_be[_bD];}else if(_r(_G)){for(var _bE= -1,_bF=_G.length;++_bE<_bF;){var _bG=_G[_bE];_F[_bG]=_be[_S(_be,_bG)];}}else{for(var _bG in _G)_F[_bG]=_be[_S(_be,_bG)];}return _F;}};_T.registerProperties=function(_bH){var _be=this,_bh=_be._bh,_bg=_be._bg;for(var _bD in _bH){var
 _bI=_bH[_bD],_bJ=_p(_bI),_bn=(_bJ?_bI.name:_bI)||_bD,_bK=_bn,_bi=_bh[_bD]={_bj:_bD};if(_bn.indexOf('|')> -1){var _bL=_bn.split('|');_bK=_bL[0];_T.lookup(_bL,_bi,_bg);}else{_bg[_bn]=_bi;}_bi._bo=_bK;if(_bJ){if(_bI.onChange)_bi._bM=_bI.onChange;if(_bI.conformer)_bi._bN=_bI.conformer;_be[_bD]=_bI.value;}}_be._Y=this.get();};_T.set=_0.set=function(_W){if(arguments.length>1)_W=_bO.apply(0,arguments);var _be=this,_N= !!_be.Class,_T=_be.Class||_be,_bg=_T._bg,_bh=_T._bh,_bi,_bP,_bQ,_bR,_bp=_N&&_be._bp,_bS=_bp&&_bp['*'],_bT,_bU,_bD,_bn,_bV,_Q,_bW;for(var _bf in _W){_Q=_W[_bf];if(_bi=_bg[_bf]||_bh[_bf]){_bD=_bi._bj;_bn=_bi._bo;}else{(_bV||(_bV={}))[_bD=_bn=_bf]=_bi=_N?{}:{value:_Q};}if(_N)(_bW||(_bW={}))[_bn]=_bi._bN?(_Q=_bi._bN.call(_be,_Q,_be[_bD])):_Q;if(_Q!==_be[_bD]){if(_N){_bS&&((_bT||(_bT={}))[_bn]=_Q);_bp&&_bp[_bn]&&(_bU||(_bU=[])).push(_bn);function _bX(_bR){if(_s(_bR)){if(!_bP){_bP=[];_bQ=_be.instanceId+'_handlerAlreadyAdded';}if(!_bR[_bQ]){_bR[_bQ]=1;_bP.push(_bR);}}else if(typeof _bR==_b){_bX(_be[_bR]);
}else if(_r(_bR)){_P(_bR,_bX);}}_bi._bM&&_bX(_bi._bM);}_be[_bD]=_Q;}}_bV&&_T.registerProperties(_bV);if(_N){if(_bP){for(var _bB= -1,_bY=_bP.length;++_bB<_bY;){delete(_bR=_bP[_bB])[_bQ];_bR.call(_be,_bW);}}_bT&&_be.fire({name:'Changed.*',properties:_bT});if(_bU){for(var _bZ= -1,_b0=_bU.length;++_bZ<_b0;)_be.fire('Changed.'+_bU[_bZ]);}}else{_T._Y=this.get();}};_T.toggle=_0.toggle=function(_x){var _q= !this.get(_x);this.set(_x,_q);return _q;};_0.kill=function(){var _b1=this.instanceId;_b2('if(typeof '+_b1+'!=\'undefined\')'+_b1+'=null');};_3('capFirstChar',function(_b3){return _b3.charAt(0).toUpperCase()+_b3.slice(1);});_3('clone',_z);_3('constrain',function(_q,_b4,_b5){return(_b4<_b5?(_q<_b4?_b4:_q>_b5?_b5:_q):(_q<_b5?_b5:_q>_b4?_b4:_q));});_3('inRange',function(_q,_b4,_b5){return _q==_T.constrain(_q,_b4,_b5)});_3('copyInto',_u);var _P=_3('forEach',function(_b6,_b7,_b8,_b9){if(_b6){var _ca=_r(_b6);if(!_ca||_b6.length){if(typeof _b7==_b)_b7=new _f('value','key','source',_b7);if(_ca){if(_o&& !_b9){
_b6.forEach(_b7,_b8);}else{for(var _cb= -1,_cc=_b6.length;++_cb<_cc;)(_b9||_cb in _b6)&&_b7.call(_b8,_b6[_cb],_cb,_b6);}}else if(_p(_b6)){for(var _cb in _b6)_b7.call(_b8,_b6[_cb],_cb,_b6);}else if(typeof _b6==_d){for(var _cb= -1;++_cb<_b6;)_b7.call(_b8,_cb,_cb,_b6);}}}});var _cd=_3('map',function(_b6,_ce,_cf){if(typeof _b6==_d){_b6=new Array(_b6);if(typeof _cf!=_c)_cf=_b6;}if(typeof _cf!=_c)_cf=_cf===_g?_b6:_r(_b6)?[]:{};if(typeof _ce==_b)_ce=new _f('value','key','return '+_ce);_P(_b6,function(_q,_cg){var _ch=_ce.call(_b6,_q,_cg);if(_cf)_cf[_cg]=_ch;},0,_h);return _cf;});_3('callOn',function(_cf,_ci,_cj){var _ck=_cl(_ci),_cm= !_ck&&_s(_ci);_cj||(_cj=_k);function _cn(_cf){if(_cf!=_a)_co(_cf)||_r(_cf)?_P(_cf,_cn,0,_h):_cm||(_ck&&_s(_cf[_ci]))?(_cm?_ci:_cf[_ci]).apply(_cf,_cj):0;}if(_ck||_cm)_cn(_cf);});_3('defaultNully',function(_q,_cp){return _q!=_a?_q:_cp});_3('getModuleByName',_9);_3('indexIn',function(_cq,_q,_cr,_cs){if(_r(_cq)){_cs=_cs!==_g;for(var _ct=_cq.length-1,_cu=_ct+1,_F;--_cu>=0;){
var _cv=_cq[_F=_cr?_cu:_ct-_cu];if(_cs?_cv===_q:_cv==_q)return _F;}}return-1;});_3('keys',function(_J){var _F=[];if(!_cl(_J))for(var _cg in _J)_F.push(_cg);return _F;});_3('totalKeys',function(_J){var _F=0;if(!_cl(_J))for(var _cg in _J)_F++;return _F;});var _cw=_3('values',function(_J){if(_r(_J))return _J;var _F=[];if(!_cl(_J))for(var _cg in _J)_F.push(_J[_cg]);return _F;});_3('meldKeysValues',function(_cx,_cw){var _F={};for(var _cy= -1,_cz=Math.min(_cx.length,_cw.length);++_cy<_cz;)_F[_cx[_cy]]=_cw[_cy];return _F;});_3('min',function(_J){return Math.min.apply(0,_T.values(_J))});_3('max',function(_J){return Math.max.apply(0,_T.values(_J))});_3('reverseLookup',function(_J,_6){var _cA=_5(_6);if(!_cl(_J))for(var _cg in _J)_cA[_J[_cg]+'']=_cg;return _cA;});_3('lookup',function(_cw,_cB,_6){var _cA=_5(_6);if(arguments.length==1)_cB=_h;if(_cw!=_a){for(var _cC= -1,_cD=_cw.length;++_cC<_cD;)_cA[_cw[_cC]]=_cB;}return _cA;});_3('isObject',_p);var _co=_3('isPlainObject',function(_q){return(_q!=_a&&
(_q.constructor==Object||_q.constructor.prototype.hasOwnProperty('hasOwnProperty')));});_3('isArray',_r);_3('isFunction',_s);_3('isNumber',function(_q){return typeof _q==_d&& !isNaN(_q)});var _cl=_3('isString',function(_q){return typeof _q==_b});_3('isBoolean',function(_q){return typeof _q==_e});_3('isNully',function(_q){return _q==_a});var _cE=_3('isPrimitive',function(_q){if(_q==_a)return _g;var _A=typeof _q;return _A==_b||_A==_d||_A==_e;});_3('isIn',function(_b6,_q,_cs){return _T.indexIn(_cw(_b6),_q,_g,_cs)> -1});_3('isEmpty',function(_J){if(_p(_J)&&_p(_J=_J.valueOf())){if(_r(_J))return!_J.length;for(var _cg in _J)return _g;return _h;}return!_J;});_3('emptyOut',function(_b6){if(_p(_b6)){if(_r(_b6)){_b6.length=0;}else{for(var _G in _b6)delete _b6[_G];}}return _b6;});var _cF=_3('recordMatches',function(_cG,_cH){if(!_cG)return!_cH;for(var _x in _cH){if(_cG[_x]!==_cH[_x])return _g;}return _h;});_3('findRecordNo',function(_cI,_cH,_cJ){if(_cI){for(var _cK= -1,_cL=_cI.length;++_cK<_cL;){if(_cF(_cI[_cK],_cH))
return _cK;}}return _cJ==_i||isNaN(_cJ-=0)? -1:_cJ;});_3('findRecord',function(_cI,_cH,_cJ){return(_cI!=_i&&(_cK=_T.findRecordNo(_cI,_cH,_cJ))> -1?_cI[_cK]:null);});var _V=_3('getGuid',function(){return'uizeGuid'+_j++});var _cM=_3('getPathToLibrary',function(_cN,_cO){if(typeof document!='undefined'&&document.getElementsByTagName){for(var _cP= -1,_cQ=document.getElementsByTagName('SCRIPT'),_cR=_cQ.length,_cS,_cT;++_cP<_cR;){if((_cT=(_cS=_cQ[_cP].src).indexOf(_cN))> -1)return(_cO?_cS.replace(_cN,_cO):_cS.slice(0,_cS.lastIndexOf('/',_cT)+1));}}return'';});var _b2=_3('globalEval',new _f('toEval','return eval (toEval)'));var _N=_3('isInstance',function(_J){return!!(_J&&_J.Class)});_3('nop',new Function);_3('returnFalse',new Function('return false'));_3('returnTrue',new Function('return true'));_3('returnX',new Function('x','return x'));_3('module',function(_cU){var _4=_cU.name||'',_cV=_4.substr(0,_4.lastIndexOf('.')),_cW=_cU.superclass||_cV,_cX=_cU.required||[],_cY=[];_7[_4]||(_7[_4]=[]);
if(_cl(_cX))_cX=_cX.split(',');_cV&&_cX.push(_cV);_cW!=_cV&&_cX.push(_cW);_P(_cX,function(_cZ){_cZ&& !_9(_cZ)&&_cY.push(_cZ);});function _c0(){var _c1=_cU.builder,_ba=_c1&&_c1(_9(_cW));_4&&(new _f('m',_4+'=m'))(_ba=_8[_4]=_ba||function(){});if(_s(_ba)){_ba.moduleName=_4;if(!_ba.subclass)_ba.toString=_H;}_bb(_4);}var _c2=_cY.length;if(_c2){var _c3=_T.moduleLoader;if(_c3){var _c4= -1;function _c5(){_c4++;if(_c4<_c2){var _c6=_cY[_c4];_9(_c6)?_c5():_7[_c6]?_7[_c6].push(_c5):_c3(_c6,function(_c7){if(_9(_c6)){_c5();}else{_c7&&_b2(_c7);if(_9(_c6)){_bb(_c6);_c5();}else{(_7[_c6]||(_7[_c6]=[])).push(_c5);}}});}else{_c0();}}_c5();}else{_c0();}}else{_c0();}});_3('moduleLoader',function(_c6,_c8){_c8();var _c9=document.createElement('script');_c9.type='text/javascript';_c9.src=_T.moduleUrlResolver(_c6);(_n||(_n=document.getElementsByTagName('HEAD')[0])).appendChild(_c9);});_3('moduleUrlResolver',function(_K){return _T.moduleUrlTemplate.replace(_m,_K+'.js');});var _bO=_3('pairUp',function(_da){var _F={},
_cj=arguments.length==1&&_r(_da)?_da:arguments,_db=_cj.length;if(_db<3){_F[_cj[0]]=_cj[1];}else{for(var _dc= -2;(_dc+=2)<_db;)_F[_cj[_dc]]=_cj[_dc+1];}return _F;});var _dd=_3('escapeRegExpLiteral',function(_de){return _de.replace(/([\^\$\|\{\}\[\]\(\)\?\.\*\+\\])/g,'\\$1');});var _df=_3('substituteInto',function(_b6,_dg,_dh){if(!(_b6=_b6==_a?'':_b6+'')||_dg==_a)return _b6;if(_cE(_dg))_dg=[_dg];var _di=(_dh||'[#KEY]').split('KEY'),_dj=[];for(var _dk in _dg)_dj.push(_dd(_dk));return _b6.replace(new RegExp(_dd(_di[0])+'('+_dj.join('|')+')'+_dd(_di[1]),'g'),function(_dl,_dk){return _dg[_dk]+''});});function _U(_T,_dm,_dn){var _do=function(){var _dp,_dq,_dr;for(var _ds in _dt){_dq=(_dp=_dt[_ds]).length;for(var _du= -1;++_du<_dq;)if(_dr=_dp[_du])_dr.apply(this,arguments);}return this;};var _0=_T.prototype;var _Q,_dv=_T.nonInheritableStatics||_l;for(var _G in _T)if(!_dv[_G]&&(_Q=_T[_G])!=_0&& !(_s(_Q)&&_Q.moduleName&&/[A-Z]/.test(_G.charAt(0))))_do[_G]=_z(_Q);var _dw=_do.prototype;_u(_dw,_0);_dw.toString=_H;
_dw.valueOf=_R;_dw.Class=_do;_do.nonInheritableStatics={nonInheritableStatics:1,toString:0,valueOf:0};_do.superclass=_T;_do.toString=_H;_do.valueOf=_R;var _dx=_T._dx||{alphastructor:_k,omegastructor:_k},_dt=_do._dx={alphastructor:_dx.alphastructor.concat(_dm),omegastructor:_dx.omegastructor.concat(_dn)};_do._bh||(_do._bh={});_do._bg||(_do._bg={});return _do;};_T.subclass=function(_dm,_dn){return _U(this,_dm,_dn);};_T.moduleName='Uize';_3('moduleUrlTemplate',_cM('Uize.js',_m));_3('pathToResources',_cM('Uize.js'));})();