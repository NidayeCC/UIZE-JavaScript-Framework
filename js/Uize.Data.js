/*
	UIZE JAVASCRIPT FRAMEWORK 2011-08-30

	http://www.uize.com/reference/Uize.Data.html
	Available under MIT License or GNU General Public License -- http://www.uize.com/license.html
*/
Uize.module({name:'Uize.Data',builder:function(){var _a=function(){},_b='string',_c=true,_d=false,_e=null,_f;var _g={};_a.getColumn=function(_h,_i,_j){var _k=[];if(_h){var _l=_j?{}:_e;for(var _m= -1,_n=_h.length;++_m<_n;){var _o=_h[_m][_i];if(!_j||(!_l[_o]&&(_l[_o]=1)))_k.push(_o);}}return _k;};_a.findRecords=function(_p,_q){var _r=[];if(_p){for(var _s= -1,_t=_p.length,_u;++_s<_t;)Uize.recordMatches(_u=_p[_s],_q)&&_r.push(_u);}return _r;};_a.getKeys=function(_v){var _k=[];if(typeof _v!=_b)for(var _w in _v)_k.push(_w);return _k;};_a.getTotalKeys=function(_v){var _k=0;if(typeof _v!=_b)for(var _w in _v)_k++;return _k;};_a.getLookup=function(_x,_y,_z){var _A=_z?{constructor:_f,toLocaleString:_f,toString:_f,valueOf:_f}:{};if(arguments.length==1)_y=_c;if(_x!=_f){for(var _B= -1,_C=_x.length;++_B<_C;)_A[_x[_B]]=_y;}return _A;};_a.getReverseLookup=function(_v,_z){var _A=_a.getLookup(_e,0,_z);if(typeof _v!=_b)for(var _w in _v)_A[_v[_w]+'']=_w;return _A;};_a.getValues=function(_v){if(Uize.isArray(_v))return _v;
var _k=[];if(typeof _v!=_b)for(var _w in _v)_k.push(_v[_w]);return _k;};_a.isEmpty=function(_v){if(_v&&typeof _v=='object'&&_v.constructor!=_g.constructor)_v=_v.valueOf();if(!_v)return _c;if(Uize.isArray(_v))return!_v.length;if(typeof _v=='object'){for(var _w in _v)return _d;return _c;}return!_v;};_a.emptyOut=function(_D){if(typeof _D=='object'&&_D){if(Uize.isArray(_D)){_D.length=0;}else{for(var _E in _D)delete _D[_E];}}return _D;};_a.filter=function(_v,_F){var _G=this,_k={};if(_v&&_F){for(var _H= -1,_I=_F.length;++_H<_I;){var _J=_F[_H];if(_J in _v)_k[_J]=_v[_J];}}return _k;};_a.identical=function(_K,_L,_M){if(!_M)_M=_g;var _N=_M.equality,_O=_N=='loose',_P= !_O&&_N!='type',_Q=_M.allowConjoined!==_d;function _R(_K,_L){var _S,_T=typeof _K,_U=_T==typeof _L,_V=_T=='object';function _W(){if(_S=_a.getTotalKeys(_K)==_a.getTotalKeys(_L)){for(var _J in _K){if(!(_J in _L)|| !_R(_K[_J],_L[_J])){_S=_d;break;}}}}if(_U&&_V&&_K&&_L){var _X=_K.constructor;if(_K==_L){_S=_Q;}else if(_S=_X==_L.constructor){if(_X==Date||
_X==String||_X==Number||_X==Boolean||_X==RegExp){_S=_K+''==_L+'';}else{if(typeof _K.splice=='function'&&typeof _L.splice=='function'){if(_S=_K.length==_L.length){for(var _Y=_K.length;--_Y>=0;){if(!_R(_K[_Y],_L[_Y])){_S=_d;break;}}if(_S){var _Z=_K.splice(0,Infinity),_0=_L.splice(0,Infinity);_W();_K.push.apply(_K,_Z);_L.push.apply(_L,_0);}}}else{_W();}}}}else{_S=(_O?_K==_L:(_U&&(_P?_K===_L:(!_V|| !_K== !_L))))||(_U&&_T=='number'&&isNaN(_K)&&isNaN(_L));}return _S;}return _R(_K,_L);};_a.conjoined=function(_K,_L){function _1(_v){var _2=[];function _3(_v){if(typeof _v=='object'){if(!Uize.isIn(_2,_v)){_2.push(_v);for(var _J in _v)_3(_v[_J]);}}}_3(_v);return _2;}var _4=_d,_5=_1(_K),_6=_5.length,_7=_1(_L);for(var _8= -1;++_8<_6&& !_4;)_4=Uize.isIn(_7,_5[_8]);return _4;};_a.clones=function(_K,_L){return(_a.identical(_K,_L,{allowConjoined:_d})&& !_a.conjoined(_K,_L));};_a.intersection=function(_K,_L){var _k={};if(_K&&_L){for(var _J in _K){var _9=_K[_J];if(_L[_J]===_9)_k[_J]=_9;}}return _k;};_a.map=function(_ba,_D,_bb){
if(typeof _D=='number'){_D=new Array(_D);if(typeof _bb!='object')_bb=_D;}var _bc=Uize.isArray(_D);if(typeof _bb!='object')_bb=_bb===_d?_D:_bc?[]:{};if(typeof _ba==_b)_ba=new Function('value','key','return '+_ba);function _bd(_w){var _be=_ba.call(_D,_D[_w],_w);if(_bb)_bb[_w]=_be;}if(_bc){for(var _Y= -1,_bf=_D.length;++_Y<_bf;)_bd(_Y);}else{for(var _w in _D)_bd(_w);}return _bb;};_a.min=function(_v){return Math.min.apply(0,_a.getValues(_v));};_a.max=function(_v){return Math.max.apply(0,_a.getValues(_v));};return _a;}});