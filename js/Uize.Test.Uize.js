/*
	UIZE JAVASCRIPT FRAMEWORK 2012-01-09

	http://www.uize.com/reference/Uize.Test.Uize.html
	Available under MIT License or GNU General Public License -- http://www.uize.com/license.html
*/
Uize.module({name:'Uize.Test.Uize',required:['Uize.Data','Uize.Class'],builder:function(){var _a={undefinedValue:undefined,nullValue:null,emptyString:'',nonEmptyString:'solar',numberValueZero:0,numberValueNegative:-1,numberValuePositive:1,numberValueNaN:NaN,numberValueInfinity:Infinity,numberValueNegativeInfinity:-Infinity,booleanFalse:false,booleanTrue:true},_b=[undefined,null,'','solar',0,-1,1,NaN,Infinity,-Infinity,false,true],_c={anObject:_a,anArray:_b},_d=[_a,_b],_e=[];_e[2]=1;_e[7]=2;var _f=Uize.Class.subclass();_f.registerProperties({_g:'value'});function _h(_i){var _j=[];_j.push.apply(_j,_i);return _j;}function _k(_l){var _m=Uize.map(_l,'value',{});_m.length=_l.length;return _l;}function _n(_o,_p,_q){return{title:_o,test:function(){var _r=new _p(_q),_s=Uize.clone(_r);return(this.expect(true,_s!=_r)&&this.expectSameAs(_r.constructor,_s.constructor)&&this.expect(_r.valueOf(),_s.valueOf()));}};}return Uize.Test.declare({title:'Test for Uize Base Class',test:[Uize.Test.staticMethodsTest([['Uize.noNew',[{
title:'Test that this method returns a wrapper object constructor that is not the same as the wrapped object constructor',test:function(){var _t=function(){},_u=Uize.noNew(_t);return(this.expectFunction(_u)&&this.expect(true,_u!=_t));}},{title:'Test that calling the wrapper object constructor results in the wrapped object constructor being called once',test:function(){var _v=0,_t=function(){_v++},_u=Uize.noNew(_t);_u();return this.expect(1,_v);}},{title:'Test that, when the wrapper object constructor is called using the new operator, an instance of the wrapper object is successfully created',test:function(){var _t=function(){},_u=Uize.noNew(_t),_w=new _u();return this.expectInstanceOf(_u,_w);}},{title:'Test that, when the wrapper object constructor is called without using the new operator, an instance of the wrapper object is successfully created',test:function(){var _t=function(){},_u=Uize.noNew(_t),_w=_u();return this.expectInstanceOf(_u,_w);}},{
title:'Test that, when the wrapper object constructor is called with a context of undefined, an instance of the wrapper object is created',test:function(){var _t=function(){},_u=Uize.noNew(_t),_w=_u.call(undefined);return this.expectInstanceOf(_u,_w);}},{title:'Test that, when the wrapper object constructor is called with a context of null, an instance of the wrapper object is created',test:function(){var _t=function(){},_u=Uize.noNew(_t),_w=_u.call(null);return this.expectInstanceOf(_u,_w);}},{title:'Test that the wrapped object constructor is called as a method on the same instance as is returned by the wrapper object constructor',test:function(){var _x,_t=function(){_x=this},_u=Uize.noNew(_t),_y=_u();return this.expectSameAs(_y,_x);}},{title:'Test that, when the wrapper object constructor is called as a method on an instance of the wrapper object constructor, the wrapped object constructor is called as a method on that same instance, and that same instance is returned',test:function(){var _x,
_t=function(){_x=this},_u=Uize.noNew(_t),_w=_u(),_z=_u.call(_w);return(this.expectSameAs(_w,_x)&&this.expectSameAs(_w,_z));}},{title:'Test that, when the wrapper object constructor is called as a method on an instance of an object other than the wrapper object, an instance of the wrapper object is created',test:function(){var _t=function(){},_u=Uize.noNew(_t),_w=_u.call(new RegExp);return this.expectInstanceOf(_u,_w);}},{title:'Test that arguments supplied to the wrapper object constructor when creating an instance are supplied also to the wrapped object constructor',test:function(){var _A=['foo','bar'],_B,_t=function(){_B=[].slice.call(arguments)},_u=Uize.noNew(_t);_u.apply(null,_A);return this.expect(_A,_B);}},{title:'Test that, when two different wrapper object constructors are created for two different wrapped object constructors, there is no cross contamination of static and instance methods between the wrapper object constructors',test:function(){var _C=function(){},_D=Uize.noNew(_C);
_D.staticMethodForA=function(){};_D.prototype.instanceMethodForA=function(){};var _E=function(){},_F=Uize.noNew(_E);_F.staticMethodForB=function(){};_F.prototype.instanceMethodForB=function(){};return(this.expect(false,'staticMethodForA'in _F)&&this.expect(false,'instanceMethodForA'in _F.prototype)&&this.expect(false,'staticMethodForB'in _D)&&this.expect(false,'instanceMethodForB'in _D.prototype));}},{title:'Test that properties of the wrapped object constructor are not transferred to the wrapper object constructor',test:function(){var _t=function(){};_t.staticMethod=function(){};_t.prototype.instanceMethod=function(){};var _u=Uize.noNew(_t);return(this.expect(true,'staticMethod'in _t)&&this.expect(true,'instanceMethod'in _t.prototype)&&this.expect(false,'staticMethod'in _u)&&this.expect(false,'instanceMethod'in _u.prototype));}}]],['Uize.capFirstChar',[['Many letters, first letter is lowercase','hello','Hello'],['Many letters, first letter is uppercase','Hello','Hello'],['Single letter, lowercase','h','H'],
['Single letter, uppercase','H','H'],['Empty string','','']]],['Uize.constrain',[['Test that constraining a value that is lower than the lower limit returns the lower limit',[-20,-10,10],-10],['Test that constraining a value that is equal to the lower limit returns that value',[-10,-10,10],-10],['Test that constraining a value that is higher than the upper limit returns the upper limit',[20,-10,10],10],['Test that constraining a value that is equal to the upper limit returns that value',[10,-10,10],10],['Test that constraining value that is within the range simply returns that value',[1,-10,10],1],['Test that, when the range is reversed, constraining a value that is lower than the lower limit returns the lower limit',[-20,10,-10],-10],['Test that, when the range is reversed, constraining a value that is equal to the lower limit returns that value',[-10,10,-10],-10],['Test that, when the range is reversed, constraining a value that is higher than the upper limit returns the upper limit',[20,10,-10],10],
['Test that, when the range is reversed, constraining a value that is equal to the upper limit returns that value',[10,10,-10],10],['Test that, when the range is reversed, constraining value that is within the range simply returns that value',[1,10,-10],1],['Test that, when the lower limit and the upper limit are equal, constraining a value that is lower than the lower limit returns the lower limit',[5,10,10],10],['Test that, when the lower limit and the upper limit are equal, constraining a value that is higher than the upper limit returns the upper limit',[15,10,10],10]]],['Uize.inRange',[['Test that a number that is lower than the lower bound of a range is not considered in range',[-50,100,0],false],['Test that a number that is at the lower bound of a range is considered in range',[0,100,0],true],['Test that a number that is between the lower and upper bounds of a range is considered in range',[50,100,0],true],['Test that a number that is at the upper bound of a range is considered in range',[100,100,0],
true],['Test that a number that is higher than the upper bound of a range is not considered in range',[150,100,0],false],['Test that a date that falls before the lower bound of a date range is not considered in range',[new Date('01/01/1999'),new Date('01/01/2000'),new Date('01/01/2010')],false],['Test that a date that is at the lower bound of a date range is considered in range',[new Date('01/01/2000'),new Date('01/01/2000'),new Date('01/01/2010')],true],['Test that a date that is between the lower and upper bounds of a date range is considered in range',[new Date('01/01/2005'),new Date('01/01/2000'),new Date('01/01/2010')],true],['Test that a date that is at the upper bound of a date range is considered in range',[new Date('01/01/2010'),new Date('01/01/2000'),new Date('01/01/2010')],true],['Test that a date that falls after the upper bound of a date range is not considered in range',[new Date('01/01/2011'),new Date('01/01/2000'),new Date('01/01/2010')],false],
['Test that an object whose value is lower than the lower bound of a range is not considered in range',[new _f({value:-50}),new _f({value:0}),new _f({value:100})],false],['Test that an object whose value is at the lower bound of a range is considered in range',[new _f({value:0}),new _f({value:0}),new _f({value:100})],true],['Test that an object whose value is between the lower and upper bounds of a range is considered in range',[new _f({value:50}),new _f({value:0}),new _f({value:100})],true],['Test that an object whose value is at the upper bound of a range is considered in range',[new _f({value:100}),new _f({value:0}),new _f({value:100})],true],['Test that an object whose value is higher than the upper bound of a range is not considered in range',[new _f({value:150}),new _f({value:0}),new _f({value:100})],false],['Test that a string that falls before the lower bound of a string range is not considered in range',['a','b','y'],false],
['Test that a string that is at the lower bound of a string range is considered in range',['b','b','y'],true],['Test that a string that is between the lower and upper bounds of a string range is considered in range',['m','b','y'],true],['Test that a string that is at the upper bound of a string range is considered in range',['y','b','y'],true],['Test that a string that falls after the upper bound of a string range is not considered in range',['z','b','y'],false],['Test that, when the bounds of a range are reversed, a value that is lower than the lower bound of the range is not considered in range',[-50,100,0],false],['Test that, when the bounds of a range are reversed, a value that is at the lower bound of the range is considered in range',[0,100,0],true],['Test that, when the bounds of a range are reversed, a value that is between the lower and upper bounds of the range is considered in range',[50,100,0],true],
['Test that, when the bounds of a range are reversed, a value that is at the upper bound of the range is considered in range',[100,100,0],true],['Test that, when the bounds of a range are reversed, a value that is higher than the upper bound of the range is not considered in range',[150,100,0],false]]],['Uize.defaultNully',[['Test that the value null is defaulted',[null,'foo'],'foo'],['Test that the value undefined is defaulted',[undefined,'foo'],'foo'],['Test that the boolean value false is not defaulted',[false,'foo'],false],['Test that an empty string is not defaulted',['','foo'],''],['Test that the number value 0 is not defaulted',[0,'foo'],0],['Test that the special value NaN is not defaulted',[NaN,'foo'],NaN],{title:'Test that an object type value is not defaulted',test:function(){var _G={};return this.expectSameAs(_G,Uize.defaultNully(_G,'foo'));}},{title:'Test that an array type value is not defaulted',test:function(){var _l=[];return this.expectSameAs(_l,Uize.defaultNully(_l,'foo'));}},{
title:'Test that a function type value is not defaulted',test:function(){var _H=Uize.nop;return this.expectSameAs(_H,Uize.defaultNully(_H,'foo'));}}]],['Uize.isArray',[['Test that calling with no parameters returns false',[],false],['Test that the value undefined is not regarded as an array',undefined,false],['Test that the value null is not regarded as an array',null,false],['Test that a string type value is not regarded as an array','hello',false],['Test that a String object instance is not regarded as an array',new String('hello'),false],['Test that a number type value is not regarded as an array',5,false],['Test that a Number object instance is not regarded as an array',new Number(5),false],['Test that a boolean type value is not regarded as an array',true,false],['Test that a Boolean object instance is not regarded as an array',new Boolean(true),false],['Test that an empty object is not regarded as an array',{},false],['Test that a function is not regarded as an array',Uize.nop,false],
['Test that a regular expression instance is not regarded as an array',/\d+/,false],['Test that an empty array is regarded as an array',[[]],true],['Test that an array with elements is regarded as an array',[[1,2,3,4]],true]]],['Uize.isList',[['Test that an empty JavaScript array is considered to be a list',[[]],true],['Test that a JavaScript array with elements is considered to be a list',[['foo','bar','hello','world']],true],{title:'Test that JavaScript\'s special arguments variable inside functions is considered to be a list',test:function(){return this.expect(true,Uize.isList(arguments));}},['Test that an object with length property that is a number is considered to be a list',[_k(['foo','bar','hello','world'])],true],['Test that a number is not considered to be a list',42,false],['Test that a boolean is not considered to be a list',true,false],['Test that a string is not considered to be a list','foo',false],['Test that the value null is not considered to be a list',null,false],
['Test that the value undefined is not considered to be a list',null,false],['Test that a regular expression is not considered to be a list',/\d+/,false],['Test that a function is not considered to be a list',function(){},false],['Test that an object that has no length property is not considered to be a list',[{0:'foo',1:'bar'}],false],{title:'Test that an object that has a length property that is not a number is not considered to be a list',test:function(){var _G={0:'foo',1:'bar'};_G.length='2';return this.expect(false,Uize.isList(_G));}}]],['Uize.isNumber',[['Test that calling with no parameters returns false',[],false],['Test that the value undefined is not regarded as a number',undefined,false],['Test that the value null is not regarded as a number',null,false],['Test that a number format string type value is not regarded as a number','5',false],['Test that a number format String object instance is not regarded as a number',new String('5'),false],
['Test that a boolean type value is not regarded as a number',true,false],['Test that a Boolean object instance is not regarded as a number',new Boolean(true),false],['Test that an object is not regarded as a number',{},false],['Test that an array is not regarded as a number',[[]],false],['Test that a function is not regarded as a number',Uize.nop,false],['Test that a regular expression instance is not regarded as a number',/\d+/,false],['Test that a number type value is regarded as a number',5,true],['Test that the special value Infinity is regarded as a number',Infinity,true],['Test that the special value -Infinity is regarded as a number',-Infinity,true],['Test that the special value NaN is not regarded as a number',NaN,false],['Test that a Number object instance is not regarded as a number',new Number(5),false]]],['Uize.isString',[['Test that calling with no parameters returns false',[],false],['Test that the value undefined is not regarded as a string',undefined,false],
['Test that the value null is not regarded as a string',null,false],['Test that a boolean type value is not regarded as a string',true,false],['Test that a Boolean object instance is not regarded as a string',new Boolean(true),false],['Test that an object is not regarded as a string',{},false],['Test that an array is not regarded as a string',[[]],false],['Test that a function is not regarded as a string',Uize.nop,false],['Test that a regular expression instance is not regarded as a string',/\d+/,false],['Test that a non-empty string value is regarded as a string','foo',true],['Test that an empty string value is regarded as a string','',true],['Test that a String object instance is not regarded as a string',new String('foo'),false]]],['Uize.isBoolean',[['Test that calling with no parameters returns false',[],false],['Test that the value undefined is not regarded as a boolean',undefined,false],['Test that the value null is not regarded as a boolean',null,false],
['Test that a string value is not regarded as a boolean','foo',false],['Test that an object is not regarded as a boolean',{},false],['Test that an array is not regarded as a boolean',[[]],false],['Test that a function is not regarded as a boolean',Uize.nop,false],['Test that a regular expression instance is not regarded as a boolean',/\d+/,false],['Test that the boolean value false is regarded as a boolean',false,true],['Test that the boolean value true is regarded as a boolean',true,true],['Test that a Boolean object instance is not regarded as a boolean',new Boolean(true),false]]],['Uize.isFunction',[['Test that calling with no parameters returns false',[],false],['Test that the value undefined is not regarded as a function',undefined,false],['Test that the value null is not regarded as a function',null,false],['Test that a string value is not regarded as a function','foo',false],['Test that a boolean value is not regarded as a function',true,false],
['Test that a number value is not regarded as a function',42,false],['Test that an object is not regarded as a function',{},false],['Test that an array is not regarded as a function',[[]],false],['Test that a regular expression instance is not regarded as a function',/\d+/,false],['Test that a function *is* regarded as a function',Uize.nop,true]]],['Uize.isNully',[['Test that calling with no parameters returns true',[],true],['Test that the value undefined is regarded as being nully',undefined,true],['Test that the value null is regarded as being nully',null,true],['Test that a string value is not regarded as being nully','',false],['Test that a boolean value is not regarded as being nully',false,false],['Test that a number value is not regarded as being nully',0,false],['Test that the special value NaN is not regarded as being nully',NaN,false],['Test that an object is not regarded as being nully',{},false],['Test that an array is not regarded as being nully',[[]],false],
['Test that a function is not regarded as being nully',Uize.nop,false],['Test that a regular expression instance is not regarded as being nully',/\d+/,false]]],['Uize.isObject',[['Test that calling with no parameters returns false',[],false],['Test that the value undefined is not regarded as being an object',undefined,false],['Test that the value null is not regarded as being an object',null,false],['Test that a string value is not regarded as being an object','foo',false],['Test that a boolean value is not regarded as being an object',true,false],['Test that a number value is not regarded as being an object',42,false],['Test that the special value NaN is not regarded as being an object',NaN,false],['Test that a function is not regarded as being an object',Uize.nop,false],['Test that an object *is* regarded as being an object',{},true],['Test that an array is regarded as being an object',[[]],true],['Test that a regular expression instance is regarded as being an object',/\d+/,true],
['Test that a String object instance is regarded as being an object',new String(''),true],['Test that a Boolean object instance is regarded as being an object',new Boolean(false),true],['Test that a Number object instance is regarded as being an object',new Number(0),true]]],['Uize.isPlainObject',[['Test that calling with no parameters returns false',[],false],['Test that the value undefined is not regarded as being a plain object',undefined,false],['Test that the value null is not regarded as being a plain object',null,false],['Test that a string value is not regarded as being a plain object','foo',false],['Test that a boolean value is not regarded as being a plain object',true,false],['Test that a number value is not regarded as being a plain object',42,false],['Test that the special value NaN is not regarded as being a plain object',NaN,false],['Test that a function is not regarded as being a plain object',Uize.nop,false],['Test that a plain object *is* regarded as being a plain object',{},true],
['Test that an array is not regarded as being a plain object',[[]],false],['Test that a regular expression instance is not regarded as being a plain object',/\d+/,false],['Test that a String object instance is not regarded as being a plain object',new String(''),false],['Test that a Boolean object instance is not regarded as being a plain object',new Boolean(false),false],['Test that a Number object instance is not regarded as being a plain object',new Number(0),false],['Test that a Uize class instance is not regarded as being a plain object',Uize.Class(),false]]],['Uize.isPrimitive',[['Test that calling with no parameters returns false',[],false],['Test that the value undefined is not regarded as being an object',undefined,false],['Test that the value null is not regarded as being an object',null,false],['Test that a string value is regarded as being a primitive','',true],['Test that a boolean value is regarded as being a primitive',false,true],
['Test that a number value is regarded as being a primitive',0,true],['Test that the special value NaN is regarded as being a primitive',NaN,true],['Test that a function is not regarded as being a primitive',Uize.nop,false],['Test that an object is not regarded as being a primitive',{},false],['Test that an array is not regarded as being a primitive',[[]],false],['Test that a regular expression instance is not regarded as being a primitive',/\d+/,false],['Test that a String object instance is not regarded as being a primitive',new String('foo'),false],['Test that a Boolean object instance is not regarded as being a primitive',new Boolean(true),false],['Test that a Number object instance is not regarded as being a primitive',new Number(42),false]]],['Uize.isNaN',[['Test that the value NaN is considered to be NaN',NaN,true],['Test that a function is not considered to be NaN',function(){},false],['Test that a Number object initialized with the value NaN is not considered to be NaN',new Number(NaN),false],
['Test that a Date object instance, even if set to an invalid date, is not considered to be NaN',new Date('foo'),false],['Test that undefined is not considered to be NaN',undefined,false],['Test that null is not considered to be NaN',null,false],['Test that an empty string is not considered to be NaN','',false],['Test that a string value, even if it is not coercible to a number, is not considered to be NaN','foo',false],['Test that a number is not considered to be NaN',42,false],['Test that a boolean value is not considered to be NaN',true,false],['Test that an object is not considered to be NaN',{foo:'bar'},false],['Test that an array is not considered to be NaN',[['foo','bar']],false]]],['Uize.isSameAs',[['Test that NaN is considered to be the same as NaN',[NaN,NaN],true],{title:'Test that only values that are equal in a strict equality are considered to be the same as one another',test:function(){var _I=[
'','foo',42,NaN,Infinity,true,false,/\d+/g,new String('foo'),new Boolean(false),new Number(42),new Date,Uize.Class(),{foo:'bar'},['foo','bar'],null,undefined],_J=_I.length,_j=true;for(var _K= -1,_L;_j&& ++_K<_J;){_L=_I[_K];for(var _M= -1,_N;_j&& ++_M<_J;){_N=_I[_M];_j=Uize.isSameAs(_L,_N)==(_K==_M);}}return this.expect(true,_j);}}]],['Uize.escapeRegExpLiteral',[['Test that all of the regular expression special characters are escaped correctly','^$|{}[]()?.*+\\','\\^\\$\\|\\{\\}\\[\\]\\(\\)\\?\\.\\*\\+\\\\'],['Test that characters that are not regular expression special characters are not escaped','foobar,:;\'"~`<>/!@#%&_-=','foobar,:;\'"~`<>/!@#%&_-=']]],['Uize.copyInto',[['Test that calling with only a target object and no source object results in the target object being returned unchanged',{foo:'bar',hello:'world'},{foo:'bar',hello:'world'}],['Test that specifying the value null for the source object results in the target object being returned unchanged',[{foo:'bar',hello:'world'},null],
{foo:'bar',hello:'world'}],['Test that specifying the value undefined for the source object results in the target object being returned unchanged',[{foo:'bar',hello:'world'},undefined],{foo:'bar',hello:'world'}],['Test that copying a source object into a target object works correctly',[{foo:'foo',hello:'there',otherInTarget:'blah'},{foo:'bar',hello:'world',otherInSource:'yawn'}],{foo:'bar',hello:'world',otherInTarget:'blah',otherInSource:'yawn'}],{title:'Test that the target object is returned and not a new object',test:function(){var _O={foo:'bar'};return this.expectSameAs(_O,Uize.copyInto(_O,{hello:'world'}));}},['Test that an arbitrary number of source objects is supported',[{propFromTarget:'foo'},{propFromSource1:'bar'},{propFromSource2:'hello'},{propFromSource3:'world'}],{propFromTarget:'foo',propFromSource1:'bar',propFromSource2:'hello',propFromSource3:'world'}],['Test that the contents of source objects are copied into the target in the order in which the source objects are specified',[
{foo:'foo',otherInTarget:'blah'},{foo:'bar',fancy:'pants'},{fancy:'schmancy',la:'dee dah'},{la:'dolce vita',fin:'ished'}],{foo:'bar',otherInTarget:'blah',fancy:'schmancy',la:'dolce vita',fin:'ished'}],['Test that specifying the value null or undefined for all of the source objects results in the target object being returned unchanged',[{foo:'bar',hello:'world'},null,undefined,undefined,null],{foo:'bar',hello:'world'}],['Test that specifying the value null for the target object results in the value null being returned',[null,{foo:'bar',hello:'world'}],null],['Test that specifying the value undefined for the target object results in the value null being returned',[undefined,{foo:'bar',hello:'world'}],undefined]],null,{cloneArguments:true}],['Uize.mergeInto',[['Test that calling with only a target object and no source object results in the target object being returned unchanged',{foo:'bar',hello:'world'},{foo:'bar',hello:'world'}],
['Test that specifying the value null for the source object results in the target object being returned unchanged',[{foo:'bar',hello:'world'},null],{foo:'bar',hello:'world'}],['Test that specifying the value undefined for the source object results in the target object being returned unchanged',[{foo:'bar',hello:'world'},undefined],{foo:'bar',hello:'world'}],['Test that merging a one level deep source object into a one level deep target object works correctly',[{foo:'foo',hello:'there',otherInTarget:'blah'},{foo:'bar',hello:'world',otherInSource:'yawn'}],{foo:'bar',hello:'world',otherInTarget:'blah',otherInSource:'yawn'}],{title:'Test that the target object is returned and not a new object',test:function(){var _O={foo:'bar'};return this.expectSameAs(_O,Uize.mergeInto(_O,{hello:'world'}));}},['Test that an arbitrary number of source objects is supported',[{propFromTarget:'foo'},{propFromSource1:'bar'},{propFromSource2:'hello'},{propFromSource3:'world'}],{propFromTarget:'foo',propFromSource1:'bar',
propFromSource2:'hello',propFromSource3:'world'}],['Test that the contents of source objects are merged into the target in the order in which the source objects are specified',[{foo:'foo',otherInTarget:'blah'},{foo:'bar',fancy:'pants'},{fancy:'schmancy',la:'dee dah'},{la:'dolce vita',fin:'ished'}],{foo:'bar',otherInTarget:'blah',fancy:'schmancy',la:'dolce vita',fin:'ished'}],['Test that specifying the value null or undefined for all of the source objects results in the target object being returned unchanged',[{foo:'bar',hello:'world'},null,undefined,undefined,null],{foo:'bar',hello:'world'}],['Test that specifying the value null for the target object results in the value null being returned',[null,{foo:'bar',hello:'world'}],null],['Test that specifying the value undefined for the target object results in the value null being returned',[undefined,{foo:'bar',hello:'world'}],undefined],{
title:'Test that, if the values of a property in the target object and the source object are not both plain objects, then the value of the property in the target object is simply overwritten by the value from the source object (no recursive merging takes place)',test:function(){var _I=['','foo',42,NaN,Infinity,false,/\d+/g,new String('foo'),new Boolean(false),new Number(42),new Date,Uize.Class(),{foo:'bar'},['foo','bar'],null,undefined],_J=_I.length,_j=true;for(var _P= -1,_Q;_j&& ++_P<_J;){_Q=_I[_P];for(var _R= -1,_S;_j&& ++_R<_J;){_S=_I[_R];if(!Uize.isPlainObject(_Q)|| !Uize.isPlainObject(_S)){var _T={property:_Q},_r={property:_S};Uize.mergeInto(_T,_r);_j=Uize.isSameAs(_T.property,_S);}}}return _j;}}],null,{cloneArguments:true}],['Uize.pairUp',[['Test that calling with no parameters returns {undefined:undefined}',[],{undefined:undefined}],['Test that undefined is the default for the valueANYTYPE parameter',['key'],{key:undefined}],['Test that the key can be a string','key',{key:undefined}],
['Test that the key can be a number',5,{5:undefined}],['Test that the key can be the special value Infinity',Infinity,{Infinity:undefined}],['Test that the key can be the special value NaN',NaN,{NaN:undefined}],['Test that the key can be a boolean',false,{'false':undefined}],['Test that the key can be undefined',undefined,{undefined:undefined}],['Test that the key can be null',null,{'null':undefined}],['Test that the value can be a string',['key','value'],{key:'value'}],['Test that the value can be a number',['key',5],{key:5}],['Test that the value can be the special value Infinity',['key',Infinity],{key:Infinity}],['Test that the value can be the special value NaN',['key',NaN],{key:NaN}],['Test that the value can be a boolean',['key',false],{key:false}],['Test that the value can be undefined',['key',undefined],{key:undefined}],['Test that the value can be null',['key',null],{key:null}],['Test that the value can be an object',['key',{propName:'propValue'}],{key:{propName:'propValue'}}],
['Test that an arbitrary number of arguments is supported',['string','foo','number',42,'boolean',false,'regexp',/\d+/,'undefined',undefined,'null',null,'NaN',NaN,'object',{},'array',[]],{'string':'foo','number':42,'boolean':false,'regexp':/\d+/,'undefined':undefined,'null':null,'NaN':NaN,'object':{},'array':[]}],['Test that if there is only one argument whose value is an array, then that array is treated as the arguments list',[['string','foo','number',42,'boolean',false,'regexp',/\d+/,'undefined',undefined,'null',null,'NaN',NaN,'object',{},'array',[]]],{'string':'foo','number':42,'boolean':false,'regexp':/\d+/,'undefined':undefined,'null':null,'NaN':NaN,'object':{},'array':[]}]]],['Uize.substituteInto',[['Test that calling with no parameters produces an empty string',[],''],['Test that calling with just a source string simply produces that string','Hello, world!','Hello, world!'],['Test that specifying the value null for substitutions produces the source string',['Hello, world!',null,'[#KEY]'],
'Hello, world!'],['Test that specifying the value undefined for substitutions produces the source string',['Hello, world!',undefined,'[#KEY]'],'Hello, world!'],['Test that substituting into an empty string produces an empty string',['',{name:'Eric'},'[#KEY]'],''],['Test that substitution of a single token works correctly',['My name is [#name].',{name:'Eric'},'[#KEY]'],'My name is Eric.'],['Test that multiple substitutions are handled corretly',['My name is [#name], and I am a [#occupation].',{name:'Eric',occupation:'viking'},'[#KEY]'],'My name is Eric, and I am a viking.'],['Test that a custom token naming specifier is handled correctly',['My name is <%name%>, and I am a <%occupation%>.',{name:'Eric',occupation:'viking'},'<%KEY%>'],'My name is Eric, and I am a viking.'],['Test that token naming where token opener and closer are empty strings is handled correcly',['I am name, and I am a occupation.',{name:'Eric',occupation:'viking'},'KEY'],'I am Eric, and I am a viking.'],
['Test that default for token naming is [#KEY]',['My name is [#name].',{name:'Eric'}],'My name is Eric.'],['Test that specifying an empty object for substitutions simply produces the source string',['Hello, world!',{}],'Hello, world!'],['Test that the same substitution can be used multiple times',['My name is [#name]. [#name] is my name. You can call me [#name].',{name:'Eric'}],'My name is Eric. Eric is my name. You can call me Eric.'],['Test that substitution values that contain tokens are not further substituted into',['[#token1][#token2]',{token1:'[#token2]foo',token2:'bar'}],'[#token2]foobar'],['Test that tokens in the source string for which there aren\'t substitutions are left in the source string',['My name is [#name].',{occupation:'viking'}],'My name is [#name].'],['Test that substitutions for which there aren\'t tokens in the source string are ignored',['My name is [#name].',{name:'Eric',occupation:'viking'}],'My name is Eric.'],['Test that specifying an array for substitutions is handled correctly',
['My name is [#0], and I am a [#1].',['Eric','viking']],'My name is Eric, and I am a viking.'],['Test that specifying an empty array for substitutions simply produces the source string',['Hello, world!',[]],'Hello, world!'],['Test that non-string substitution values are correctly coerced to strings',['[#int] [#neg] [#float] [#nan] [#infinity] [#true] [#false] [#obj] [#null] [#undefined]',{int:5,neg:-5,float:5.5,nan:NaN,infinity:Infinity,'true':true,'false':false,obj:new _f({value:'OBJECT'}),'null':null,'undefined':undefined}],'5 -5 5.5 NaN Infinity true false OBJECT null undefined'],['Test that a string type substitution is treated as a substitutions array with one element',['My name is [#0].','Eric'],'My name is Eric.'],['Test that a number type substitution is treated as a substitutions array with one element',['Pi is approximately [#0].',3.14159265359],'Pi is approximately 3.14159265359.'],['Test that a boolean type substitution is treated as a substitutions array with one element',
['It is not [#0] that the Earth is flat.',true],'It is not true that the Earth is flat.'],['Test that substitution keys are case-sensitive, as designed',['My name is [#name], and not [#NAME]!',{name:'Eric',NAME:'Derrick'}],'My name is Eric, and not Derrick!'],['Test that substitution keys are space-sensitive, as designed',['My name is [#name], and not [# name ]!',{name:'Eric',' name ':'Derrick'}],'My name is Eric, and not Derrick!'],['Test that spaces in the token opener and token closer are significant, as designed',['[name] [ name] [name ] [ name ]',{name:'Eric'},'[ KEY ]'],'[name] [ name] [name ] Eric'],['Test that a token opener containing regular expression special characters is handled correctly',['My name is [^$|{}[]()?.*+\\name].',{name:'Eric'},'[^$|{}[]()?.*+\\KEY]'],'My name is Eric.'],['Test that a token closer containing regular expression special characters is handled correctly',['My name is [name^$|{}[]()?.*+\\].',{name:'Eric'},'[KEY^$|{}[]()?.*+\\]'],'My name is Eric.'],
['Test that a substitution key containing regular expression special characters is handled correctly',['My name is [^$|{}[]()?.*+\\].',{'^$|{}[]()?.*+\\':'Eric'},'[KEY]'],'My name is Eric.'],['Test that the source for substituting into can be a number',[3.14159265359,{'.':','},'KEY'],'3,14159265359'],['Test that the source for substituting into can be a boolean',[true,{ru:'Russia'},'KEY'],'tRussiae'],['Test that the source for substituting into can be an object that implements a value interface',[new _f({value:'My name is [#name].'}),{name:'Eric'}],'My name is Eric.'],['Test that the source for substituting into can be an array, whose elements will be concatenated',[['[#name]','[#occupation]'],{name:'Eric',occupation:'viking'}],'Eric,viking']]],['Uize.indexIn',[['Test that specifying an empty array for the source parameter produces the result -1',[[],1],-1],['Test that the fromEndBOOL and strictEqualityBOOL parameters are observed correctly',[[0,1,'1','1',1,2],'1',true,false],4],
['Test that the strictEqualityBOOL parameter is defaulted to true, as designed',[[0,1,'1','1',1,2],'1',true],3],['Test that the fromEndBOOL parameter is defaulted to false, as designed',[[0,1,'1','1',1,2],'1'],2],['Test that -1 is returned when the value is not found in the source array',[[0,1,'1','1',1,2],'0'],-1],['Test that the method doesn\'t scan past the end of the source array and find a match for undefined in the first element beyond the end of the array',[[0,1,'1','1',1,2],undefined],-1],['Test that specifying an empty list object for the source parameter produces the result -1',[_k([]),1],-1],['Test that, when the source is a list object, the fromEndBOOL and strictEqualityBOOL parameters are observed correctly',[_k([0,1,'1','1',1,2]),'1',true,false],4],['Test that, when the source is a list object, the strictEqualityBOOL parameter is defaulted to true, as designed',[_k([0,1,'1','1',1,2]),'1',true],3],
['Test that, when the source is a list object, the fromEndBOOL parameter is defaulted to false, as designed',[_k([0,1,'1','1',1,2]),'1'],2],['Test that, when the source is a list object, -1 is returned when the value is not found in the source list object',[_k([0,1,'1','1',1,2]),'0'],-1],{title:'Test that the method will correctly find the index of a value in JavaScript\'s special arguments variable inside functions',test:function(){function _U(){return Uize.indexIn(arguments,'1',true,false);}return this.expect(4,_U(0,1,'1','1',1,2));}},['Test that specifying an empty non-list object for the source parameter produces the result -1',[{},1],-1],['Test that, when the source is a non-list object, the fromEndBOOL and strictEqualityBOOL parameters are observed correctly',[{p0:0,p1:1,p2:'1',p3:'1',p4:1,p5:2},'1',true,false],'p4'],['Test that, when the source is a non-list object, the strictEqualityBOOL parameter is defaulted to true, as designed',[{p0:0,p1:1,p2:'1',p3:'1',p4:1,p5:2},'1',true],'p3'],
['Test that, when the source is a non-list object, the fromEndBOOL parameter is defaulted to false, as designed',[{p0:0,p1:1,p2:'1',p3:'1',p4:1,p5:2},'1'],'p2'],['Test that, when the source is a non-list object, -1 is returned when the value is not found in the object',[{p0:0,p1:1,p2:'1',p3:'1',p4:1,p5:2},'0'],-1],['Test that calling with no parameters produces the result -1',[],-1],['Test that specifying null for the source parameter produces the result -1',[null,null],-1],['Test that specifying undefined for the source parameter produces the result -1',[undefined,undefined],-1],['Test that specifying a number for the source parameter produces the result -1',[5,5],-1],['Test that specifying a string for the source parameter produces the result -1',['hello','hello'],-1],['Test that specifying a boolean for the source parameter produces the result -1',[true,true],-1]]],['Uize.isIn',[['Test that calling with no parameters produces the result false',[],false],
['Test that specifying null for the source parameter produces the result false',[null,null],false],['Test that specifying undefined for the source parameter produces the result false',[undefined,undefined],false],['Test that specifying a number for the source parameter produces the result false',[5,5],false],['Test that specifying a string for the source parameter produces the result false',['hello','hello'],false],['Test that specifying a boolean for the source parameter produces the result false',[true,true],false],['Test that specifying an empty array for the source parameter produces the result false',[[],1],false],['Test that the value false for the strictEqualityBOOL parameter ia observed correctly',[[0,1],'1',false],true],['Test that the value true for the strictEqualityBOOL parameter ia observed correctly',[[0,1],'1',true],false],['Test that the strictEqualityBOOL parameter is defaulted to true, as designed',[[0,1],'1'],false],
['Test that false is returned when the value is not found in the source array',[[0,1],2],false],['Test that true is returned when the source is an object, and the value is the value of one of the source object\'s properties',[{foo:'bar',hello:'world'},'bar'],true],['Test that false is returned when the source is an object, and the value is not one of the object\'s propertes\' values',[{foo:'bar',hello:'world'},'blah'],false],['Test that the value false for the strictEqualityBOOL parameter ia observed correctly when the source is an object',[{prop1:0,prop2:1},'1',false],true],['Test that the value true for the strictEqualityBOOL parameter ia observed correctly when the source is an object',[{prop1:0,prop2:1},'1',true],false]]],['Uize.isEmpty',[['Test that empty object is considered empty',[{}],true],['Test that empty array is considered empty',[[]],true],['Test that empty string is considered empty',[''],true],['Test that String object initialized to empty string is considered empty',[new String('')],true],
['Test that the number zero is considered empty',[0],true],['Test that Number object initialized to zero is considered empty',[new Number(0)],true],['Test that the boolean false is considered empty',[false],true],['Test that Boolean object initialized to false is considered empty',[new Boolean(false)],true],['Test that null is considered empty',[null],true],['Test that undefined is considered empty',[undefined],true],['Test that NaN is considered empty',[NaN],true],['Test that class instance with empty value set-get property is considered empty',[new _f({value:0})],true],['Test that a non-empty object is not considered empty',[{blah:0}],false],['Test that a non-empty array is not considered empty',[['blah']],false],['Test that a non-empty string is not considered empty',['blah'],false],['Test that String object initialized to non-empty string is not considered empty',[new String('foo')],false],['Test that a non-zero number is not considered empty',[1],false],
['Test that Number object initialized to non-zero number is not considered empty',[new Number(1)],false],['Test that the boolean true is not considered empty',[true],false],['Test that Boolean object initialized to true is not considered empty',[new Boolean(true)],false],['Test that a function (even an empty one) is not considered empty',function(){},false],['Test that class instance with non-empty value set-get property is not considered empty',[new _f({value:1})],false]]],['Uize.emptyOut',[{title:'Test that emptying out an already empty array produces that same empty array as the result',test:function(){var _V=[],_j=Uize.emptyOut(_V);return this.expect(true,_V==_j)&&this.expect(_V,_j);}},{title:'Test that emptying out an already empty object produces that same empty object as the result',test:function(){var _V={},_j=Uize.emptyOut(_V);return this.expect(true,_V==_j)&&this.expect(_V,_j);}},{title:'Test that emptying out an array with contents produces that same array with no contents as the result',
test:function(){var _V=[1,2,3,4,5],_j=Uize.emptyOut(_V);return this.expect(true,_V==_j)&&this.expect(_V,[]);}},{title:'Test that emptying out an object with contents produces that same object with no contents as the result',test:function(){var _V={foo:1,bar:1},_j=Uize.emptyOut(_V);return this.expect(true,_V==_j)&&this.expect(_V,{});}},['Test that specifying the value null for the source produces the value null as the result',null,null],['Test that specifying the value undefined for the source produces the value undefined as the result',undefined,undefined]]],['Uize.recordMatches',[['Test that specifying the value null for the record produces the result false',[null,{foo:'bar'}],false],['Test that specifying the value undefined for the record produces the result false',[undefined,{foo:'bar'}],false],['Test that specifying the value null for the match object produces the result true',[{foo:'bar'},null],true],['Test that specifying the value undefined for the match object produces the result true',
[{foo:'bar'},undefined],true],['Test that specifying an empty match object produces the result true',[{foo:'bar'},{}],true],['Test that specifying a match object that contains properties that aren\'t in the record produces the result false',[{foo:'bar'},{hello:'world'}],false],['Test that specifying a match object with a property that is in the record but whose value is not the same produces the result false',[{meaningOfLife:42},{meaningOfLife:'dunno'}],false],['Test that specifying a match object with a property that is in the record and whose values is equal but not in a strict equality produces the result false',[{meaningOfLife:42},{meaningOfLife:'42'}],false],['Test that specifying a match object with a property that is in the record and whose values is equal in a strict equality produces the result true',[{meaningOfLife:42},{meaningOfLife:42}],true],['Test that specifying a match object with multiple properties and that is only a partial match with the record produces the result false',
[{foo:'bar',hello:'world',meaningOfLife:42},{foo:'bar',hello:'there',meaningOfLife:42}],false],['Test that specifying a match object with multiple properties and that is a complete match with the record produces the result true',[{foo:'bar',hello:'world',meaningOfLife:42},{foo:'bar',hello:'world',meaningOfLife:42}],true],['Test that properties that are in the record but that are not in the match object are not considered and do not affect the success of the match',[{foo:'bar',hello:'world',meaningOfLife:42},{meaningOfLife:42}],true]]],['Uize.findRecordNo',[['Test that specifying null for the records results in the default number being returned',[null,{},5],5],['Test that specifying undefined for the records results in the default number being returned',[undefined,{},5],5],['Test that not specifying a default number results in the value -1 being used for default number',[[{foo:'boo'},{foo:'bar'},{foo:'foo'}],{foo:'woo'}],-1],
['Test that specifying the value null for default number is treated as a default number of -1',[[{foo:'boo'},{foo:'bar'},{foo:'foo'}],{foo:'woo'},null],-1],['Test that specifying the value undefined for default number is treated as a default number of -1',[[{foo:'boo'},{foo:'bar'},{foo:'foo'}],{foo:'woo'},undefined],-1],['Test that specifying a string value for detault number results in it being coerced to a number',[[{foo:'boo'},{foo:'bar'},{foo:'foo'}],{foo:'woo'},'5'],5],['Test that specifying a boolean value for the default number results in it being coerced to a number',[[{foo:'boo'},{foo:'bar'},{foo:'foo'}],{foo:'woo'},true],1],['Test that specifying an object value for the default number results in it being coerced to a number',[[{foo:'boo'},{foo:'bar'},{foo:'foo'}],{foo:'woo'},new _f({value:5})],5],['Test that specifying an object value for the default number that cannot be coerced to a number results in the value -1 being used for the default number',
[[{foo:'boo'},{foo:'bar'},{foo:'foo'}],{foo:'woo'},new _f({value:'blah'})],-1],['Test that the index of the first matching record is returned when the match matches a record',[[{foo:'boo'},{foo:'bar'},{foo:'foo'}],{foo:'bar'}],1],['Test that the value 0 is returned when the value null is specified for the match',[[{foo:'boo'},{foo:'bar'},{foo:'foo'}],null],0]]],['Uize.findRecord',[['Test that specifying null for the records results in the value null being returned',[null,{},5],null],['Test that specifying undefined for the records results in the value null being returned',[undefined,{},5],null],{title:'Test that the first matching record is returned when the match matches a record',test:function(){var _W=[{foo:'boo'},{foo:'bar'},{foo:'foo'}];return this.expectSameAs(_W[1],Uize.findRecord(_W,{foo:'bar'}));}},{title:'Test that the first record is returned when the value null is specified for the match',test:function(){var _W=[{foo:'boo'},{foo:'bar'},{foo:'foo'}];
return this.expectSameAs(_W[0],Uize.findRecord(_W,null));}},{title:'Test that the record for the specified default record number is returned when no matching record is found',test:function(){var _W=[{foo:'boo'},{foo:'bar'},{foo:'foo'}];return this.expectSameAs(_W[2],Uize.findRecord(_W,{foo:'woo'},2));}}]],['Uize.getGuid',[{title:'Test that a string type value is returned, as expected',test:function(){return this.expectNonEmptyString(Uize.getGuid())}},{title:'Test that result is different across ten successive calls',test:function(){var _X=[];for(var _Y= -1;++_Y<10;)_X.push(Uize.getGuid());return this.expectNoRepeats(_X);}}]],['Uize.getPathToLibrary',[]],['Uize.globalEval',[]],['Uize.isInstance',[['Test that calling with no parameters produces the result false',[],false],['Test that null is not regarded as a Uize subclass instance',null,false],['Test that undefined is not regarded as a Uize subclass instance',undefined,false],['Test that a string is not regarded as a Uize subclass instance','hello',false],
['Test that a number is not regarded as a Uize subclass instance',5,false],['Test that a boolean is not regarded as a Uize subclass instance',true,false],['Test that a simple object is not regarded as a Uize subclass instance',{},false],['Test that an array is not regarded as a Uize subclass instance',[],false],['Test that a regular expression is not regarded as a Uize subclass instance',/\d+/,false],['Test that a function is not regarded as a Uize subclass instance',Uize.nop,false],['Test that a Uize class is not regarded as a Uize subclass instance',Uize,false],['Test that a Uize package is not regarded as a Uize subclass instance',Uize.Data,false],['Test that a Uize instance is correctly regarded as a Uize subclass instance',Uize.Class(),true]]],['Uize.clone',[['Test that cloning the value null produces the value null',null,null],['Test that cloning the value undefined produces the value undefined',undefined,undefined],['Test that cloning an empty string produces an empty string','',''],
['Test that cloning a non-empty string is handled correctly','solar','solar'],['Test that cloning the value 0 produces the value 0',0,0],['Test that cloning a negative number is handled correctly',-1,-1],['Test that cloning a positive number is handled correctly',1,1],['Test that cloning the special number value NaN is handled correctly',NaN,NaN],['Test that cloning the special number value Infinity is handled correctly',Infinity,Infinity],['Test that cloning the special number value -Infinity is handled correctly',-Infinity,-Infinity],['Test that cloning the boolean value false produces the value false',false,false],['Test that cloning the boolean value true produces the value true',true,true],_n('Test that cloning an instance of the RegExp object is handled correctly',RegExp,new RegExp('^\\s+$','gim')),_n('Test that cloning an instance of the Date object is handled correctly',Date,'2001/9/11'),_n('Test that cloning an instance of the String object is handled correctly',String,'solar'),_n(
'Test that cloning an instance of the Number object is handled correctly',Number,42),_n('Test that cloning an instance of the Boolean object is handled correctly',Boolean,true),['Test that cloning an empty object produces an empty object',{},{}],_n('Test that the clone of an object is not a reference to that object, but is a new object',Object,{}),['Test that cloning a non-empty object produces an identical copy of that object',_a,_a],['Test that cloning an empty array produces an empty array',[[]],[]],_n('Test that the clone of an array is not a reference to that array, but is a new array',Array,[]),['Test that cloning a non-empty array produces an identical copy of that array',[_b],_b],{title:'Test that cloning a non-empty array with custom properties preserves the custom properties in the clone',test:function(){var _Z=[0,1,2];_Z.foo='bar';return this.expect(_Z,Uize.clone(_Z));}},['Test that cloning a complex object data structure is handled correctly',[_c],_c],
['Test that cloning a complex array data structure is handled correctly',[_d],_d],{title:'Test that cloning a function simply returns a reference to that function',test:function(){var _0=Uize.nop;return this.expectSameAs(_0,Uize.clone(_0))}},{title:'Test that cloning a Uize class instance simply returns a reference to that instance',test:function(){var _0=Uize.Class();return this.expectSameAs(_0,Uize.clone(_0))}},['Test that specifying no parameter is equivalent to cloning the value undefined',[],undefined]]],['Uize.map',[['Test that function mapper gets element value as a parameter correctly',[['a','b','c'],function(_g){return _g.toUpperCase()}],['A','B','C']],['Test that function mapper gets element key as a parameter correctly',[['a','b','c'],function(_g,_1){return _1}],[0,1,2]],['Test that function mapper is called as instance method on array correctly',[['a','b','c'],function(){return this.length}],[3,3,3]],['Test that number can be specified in place of a source array',
[['a','b','c'],function(_g,_1){return(_1+1)+' of '+this.length+' = '+_g}],['1 of 3 = a','2 of 3 = b','3 of 3 = c']],['Test that a string can be used to specify a mapper',[['a','b','c'],'(key + 1) + \' of \' + this.length + \' = \' + value'],['1 of 3 = a','2 of 3 = b','3 of 3 = c']],['Test that a source object is automatically mapped to a object',[{a:0,b:1,c:2},'key + value'],{a:'a0',b:'b1',c:'c2'}],['Test that an empty array maps to an empty array',[[],'value'],[]],['Test that an empty object maps to an empty object',[{},'value'],{}],['Test that map can be used to convert an array to an object by specifying an empty object target',[['a','b','c'],'value',{}],{0:'a',1:'b',2:'c'}],['Test that map can be used to convert an object to an array by specifying an empty array target',[{0:'a',1:'b',2:'c'},'value',[]],['a','b','c']],['Test that an empty array maps to an empty object, when an empty object target is specified',[[],'value',{}],{}],
['Test that an empty object maps to an empty array, when an empty array target is specified',[{},'value',[]],[]]]],['Uize.forEach',[{title:'Test that, when the source is an empty array, the iterator is never called',test:function(){var _2=false;Uize.forEach([],function(){_2=true});return this.expect(false,_2);}},{title:'Test that, when the source is an array, the iteration handler is called as a method on the optionally specified context',test:function(){var _3={},_4;Uize.forEach(['foo'],function(){_4=this},_3);return this.expectSameAs(_3,_4);}},{title:'Test that, when the source is an array, the iteration handler receives the value of elements of the array as its first argument',test:function(){var _5=[];Uize.forEach(['foo','bar'],function(_g){_5.push(_g)});return this.expect(['foo','bar'],_5);}},{title:'Test that, when the source is an array, the iteration handler receives the index of elements of the array as its second argument',test:function(){var _6=[];
Uize.forEach(['foo','bar'],function(_g,_1){_6.push(_1)});return this.expect([0,1],_6);}},{title:'Test that, when the source is an array, the iteration handler receives a reference to the source array as its third argument',test:function(){var _V=['foo'],_7;Uize.forEach(_V,function(_g,_1,_V){_7=_V});return this.expectSameAs(_V,_7);}},{title:'Test that, when the source is an array, the iteration handler is called only for assigned elements of the source array when the optional allArrayElemnts parameter is not specified',test:function(){var _V=[],_8=[];_V[1]='foo';_V[3]='bar';Uize.forEach(_V,function(_9){_8.push(_9)});return this.expect(['foo','bar'],_8);}},{title:'Test that, when the source is an array, the iteration handler is called only for assigned elements of the source array when false is specified for the optional allArrayElemnts parameter',test:function(){var _V=[],_8=[];_V[1]='foo';_V[3]='bar';Uize.forEach(_V,function(_9){_8.push(_9)},false);return this.expect(['foo','bar'],_8);}},{
title:'Test that, when the source is an array, the iteration handler is called even for unassigned elements of the source array when true is specified for the optional allArrayElemnts parameter',test:function(){var _V=[],_8=[];_V[1]='foo';_V[3]='bar';Uize.forEach(_V,function(_9){_8.push(_9)},0,true);return this.expect([undefined,'foo',undefined,'bar'],_8);}},{title:'Test that, when the source is an empty object, the iterator is never called',test:function(){var _2=false;Uize.forEach({},function(){_2=true});return this.expect(false,_2);}},{title:'Test that, when the source is an object, the iteration handler is called as a method on the optionally specified context',test:function(){var _3={},_4;Uize.forEach({foo:'bar'},function(){_4=this},_3);return this.expectSameAs(_3,_4);}},{title:'Test that, when the source is an object, the iteration handler receives the value of properties of the object as its first argument',test:function(){var _5=[];Uize.forEach({foo:'bar',hello:'world'},function(_g){_5.push(_g)});
return this.expect(['bar','world'],_5);}},{title:'Test that, when the source is an object, the iteration handler receives the name of properties of the object as its second argument',test:function(){var _6=[];Uize.forEach({foo:'bar',hello:'world'},function(_g,_1){_6.push(_1)});return this.expect(['foo','hello'],_6);}},{title:'Test that, when the source is an object, the iteration handler receives a reference to the source object as its third argument',test:function(){var _V={foo:'bar'},_7;Uize.forEach(_V,function(_g,_1,_V){_7=_V});return this.expectSameAs(_V,_7);}},{title:'Test that, when the source is an object, specifying false for the optional allArrayElemnts parameter doesn\'t cause the method to fail',test:function(){var _V={foo:'bar'},_ba,_bb,_7;Uize.forEach(_V,function(_g,_1,_V){_ba=_g;_bb=_1;_7=_V;},false);return(this.expect('bar',_ba)&&this.expect('foo',_bb)&&this.expectSameAs(_V,_7));}},{
title:'Test that, when the source is an object, specifying true for the optional allArrayElemnts parameter doesn\'t cause the method to fail',test:function(){var _V={foo:'bar'},_ba,_bb,_7;Uize.forEach(_V,function(_g,_1,_V){_ba=_g;_bb=_1;_7=_V;},true);return(this.expect('bar',_ba)&&this.expect('foo',_bb)&&this.expectSameAs(_V,_7));}},{title:'Test that, when the source is the number zero, the iterator is never called',test:function(){var _2=false;Uize.forEach(0,function(){_2=true});return this.expect(false,_2);}},{title:'Test that, when the source is a number, the iteration handler is called as a method on the optionally specified context',test:function(){var _3={},_4;Uize.forEach(1,function(){_4=this},_3);return this.expectSameAs(_3,_4);}},{title:'Test that, when the source is a number, the iteration handler receives the iteration index as its first argument',test:function(){var _5=[];Uize.forEach(10,function(_g){_5.push(_g)});return this.expect([0,1,2,3,4,5,6,7,8,9],_5);}},{
title:'Test that, when the source is a number, the iteration handler receives the iteration index as its second argument',test:function(){var _6=[];Uize.forEach(10,function(_g,_1){_6.push(_1)});return this.expect([0,1,2,3,4,5,6,7,8,9],_6);}},{title:'Test that, when the source is a number, the iteration handler receives the source as its third argument',test:function(){var _7;Uize.forEach(10,function(_g,_1,_V){_7=_V});return this.expectSameAs(10,_7);}},{title:'Test that, when the source is a number, specifying false for the optional allArrayElemnts parameter doesn\'t cause the method to fail',test:function(){var _ba,_bb,_7;Uize.forEach(1,function(_g,_1,_V){_ba=_g;_bb=_1;_7=_V;},false);return(this.expect(0,_ba)&&this.expect(0,_bb)&&this.expectSameAs(1,_7));}},{title:'Test that, when the source is a number, specifying true for the optional allArrayElemnts parameter doesn\'t cause the method to fail',test:function(){var _ba,_bb,_7;Uize.forEach(1,function(_g,_1,_V){_ba=_g;_bb=_1;_7=_V;},true);return(
this.expect(0,_ba)&&this.expect(0,_bb)&&this.expectSameAs(1,_7));}},{title:'Test that, when the iteration handler is a string, the iteration handler is called as a method on the optionally specified context',test:function(){var _3={};Uize.forEach(1,'this.foo = "bar"',_3);return this.expect({foo:'bar'},_3);}},{title:'Test that, when the iteration handler is a string, the iteration handler receives the iteration index as its first argument',test:function(){var _5=[];Uize.forEach(['foo','bar'],'this.push (value)',_5);return this.expect(['foo','bar'],_5);}},{title:'Test that, when the iteration handler is a string, the iteration handler receives the iteration index as its second argument',test:function(){var _6=[];Uize.forEach(['foo','bar'],'this.push (key)',_6);return this.expect([0,1],_6);}},{title:'Test that, when the iteration handler is a string, the iteration handler receives the source as its third argument',test:function(){var _V={foo:'bar'},_3={};Uize.forEach(_V,'source [key] = value.toUpperCase ()',_3);
return this.expect({foo:'BAR'},_V);}},{title:'Test that, when the source is neither an array, object, nor length, the iterator is never called',test:function(){var _bc=0;function _bd(){_bc++}Uize.forEach(undefined,_bd);Uize.forEach(null,_bd);Uize.forEach(true,_bd);Uize.forEach(NaN,_bd);Uize.forEach('foo',_bd);return this.expect(0,_bc);}}]],['Uize.callOn',[{title:'Test that specifying null for the object results in no action',test:function(){var _be=true;Uize.callOn(null,function(){_be=false});return _be;}},{title:'Test that specifying undefined for the object results in no action',test:function(){var _be=true;Uize.callOn(undefined,function(){_be=false});return _be;}},{title:'Test that specifying a value for method that is neither a string nor a function results in no error being produced',test:function(){var _O=Uize.Class();Uize.callOn(_O);Uize.callOn(_O,null);Uize.callOn(_O,undefined);Uize.callOn(_O,42);Uize.callOn(_O,true);Uize.callOn(_O,{});Uize.callOn(_O,[]);return true;}},{title:
'Test that specifying a function as the method and an instance as the target results in the function being called as an instance method on the instance',test:function(){var _O=Uize.Class(),_be=false;Uize.callOn(_O,function(){_be=this==_O});return _be;}},{title:'Test that when the optional arguments parameter is not specified, the arguments are defaulted to an empty array',test:function(){var _O=Uize.Class(),_be=false;Uize.callOn(_O,function(){_be=arguments.length==0});return _be;}},{title:'Test that when the optional arguments parameter is specified, those arguments are passed in the call correctly',test:function(){var _O=Uize.Class(),_bf=['foo',42,true],_bg;Uize.callOn(_O,function(){_bg=_h(arguments)},_bf);return this.expect(_bf,_bg);}},{title:'Test that specifying the target as an instance and the method as a string does not result in an error being produced when the method is not defined on the instance',test:function(){var _O=Uize.Class(),_bh='SOME-BOGUS-METHOD-NAME';delete _O[_bh];Uize.callOn(_O,_bh);
return true;}},{title:'Test that specifying the target as an instance and the method as a string results in the specified method being called as an instance method on the instance',test:function(){var _O=Uize.Class(),_be=false,_bf=['foo',42,true],_bg;_O.someSillyMethodName=function(){_bg=_h(arguments)};Uize.callOn(_O,'someSillyMethodName',_bf);return this.expect(_bf,_bg);}},{title:'Test that specifying an array as the target results in the method being called correctly on all elements of the array',test:function(){var _bi=[],_bj=Uize.Class.subclass(),_bk=['foo',42,true],_bl=new _bj({name:'subTarget0'}),_bm=new _bj({name:'subTarget1'}),_bn=new _bj({name:'subTarget2'}),_O=[_bl,_bm,_bn];Uize.callOn(_O,function(){_bi.push({_bo:this.get('name'),_i:_h(arguments)});},_bk);return this.expect([{_bo:'subTarget0',_i:_bk},{_bo:'subTarget1',_i:_bk},{_bo:'subTarget2',_i:_bk}],_bi);}},{title:'Test that specifying an object as the target results in the method being called correctly on all property values of the object',
test:function(){var _bi=[],_bj=Uize.Class.subclass(),_bk=['foo',42,true],_bl=new _bj({name:'subTarget0'}),_bm=new _bj({name:'subTarget1'}),_bn=new _bj({name:'subTarget2'}),_O={foo:_bl,bar:_bm,helloworld:_bn};Uize.callOn(_O,function(){_bi.push({_bo:this.get('name'),_i:[].concat.apply([],arguments)});},_bk);return this.expect([{_bo:'subTarget0',_i:_bk},{_bo:'subTarget1',_i:_bk},{_bo:'subTarget2',_i:_bk}],_bi);}},{title:'Test that recursion is handled correctly when the target is a complex data structure',test:function(){var _bp=[],_bq=[],_bj=Uize.Class.subclass(),_bk=['foo',42,true],_br= -1;function _bs(){var _bt='subTarget'+ ++_br;_bp.push({_bo:_bt,_i:_bk});return new _bj({name:_bt});}var _O={foo:_bs(),bar:[_bs(),{hello:_bs(),there:{silly:_bs(),sausage:_bs()},world:_bs()},[_bs(),_bs()]],blah:_bs()};Uize.callOn(_O,function(){_bq.push({_bo:this.get('name'),_i:[].concat.apply([],arguments)});},_bk);return this.expect(_bp,_bq);}},{
title:'Test that a function can be called as a method on values that are primitives or instances of objects that are not Uize subclasses',test:function(){var _I=[true,42,'foo',NaN,new Date('01/01/2011'),/\d+/],_bu=[],_bv=[];for(var _bw= -1,_J=_I.length;++_bw<_J;)_bu.push(_I[_bw]+'');Uize.callOn(_I,function(){_bv.push(this+'')});return this.expect(_bu,_bv);}}]],['Uize.keys',[['Test that an object\'s keys are reported correctly',[{foo:1,bar:2}],['foo','bar']],['Test that a populated array\'s keys are reported correctly',[['a','b','c','d']],['0','1','2','3']],['Test that a sparsely populated array\'s keys are reported correctly',[_e],['2','7']],['Test that a non-zero length array that is unpopulated has no keys',[new Array(5)],[]],['Test that an empty array has no keys',[[]],[]],['Test that an empty object has no keys',[{}],[]],['Test that null has no keys',null,[]],['Test that undefined has no keys',undefined,[]],['Test that a boolean value has no keys',false,[]],['Test that a number value has no keys',5,[]],
['Test that a string value has no keys','hello',[]]]],['Uize.totalKeys',[['Test that an object\'s total keys are reported correctly',[{foo:1,bar:2}],2],['Test that a populated array\'s total keys are reported correctly',[['a','b','c','d']],4],['Test that a sparsely populated array\'s total keys are reported correctly',[_e],2],['Test that a non-zero length array that is unpopulated has 0 keys',[new Array(5)],0],['Test that an empty array has 0 keys',[[]],0],['Test that an empty object has 0 keys',[{}],0],['Test that null has 0 keys',null,0],['Test that undefined has 0 keys',undefined,0],['Test that a boolean value has 0 keys',false,0],['Test that a number value has 0 keys',5,0],['Test that a string value has 0 keys','hello',0]]],['Uize.values',[['Test that an object\'s values are reported correctly',[{foo:1,bar:2}],[1,2]],['Test that a populated array\'s values are reported correctly',[['a','b','c','d']],['a','b','c','d']],{title:'Test that getting values for an array simply returns the array',
test:function(){return Uize.values(_e)==_e}},['Test that a sparsely populated array\'s values are reported correctly',[_e],_e],['Test that a non-zero length array that is unpopulated has no values',[new Array(5)],new Array(5)],['Test that an empty array has no values',[[]],[]],['Test that an empty object has no values',[{}],[]],['Test that null has no values',null,[]],['Test that undefined has no values',undefined,[]],['Test that a boolean value has no values',false,[]],['Test that a number value has no values',5,[]],['Test that a string value has no values','hello',[]]]],['Uize.meldKeysValues',[['Test that the method correctly melds together the specified keys and values',[['foo','hello'],['bar','world']],{foo:'bar',hello:'world'}],['Test that surplus values are ignored',[['foo'],['bar','world']],{foo:'bar'}],['Test that surplus keys are ignored',[['foo','hello'],['bar']],{foo:'bar'}]]],['Uize.lookup',[['Test that true is the default value for the lookupValue paramter',[['foo','bar']],{foo:true,bar:true}],
['Test that default can be specified as a value for the lookupValue paramter',[['foo','bar'],undefined],{foo:undefined,bar:undefined}],['Test that a values array with duplicate values is handled correctly',[['foo','foo','bar','bar']],{foo:true,bar:true}],['Test that a values array with different types of values is handled correctly',[['','string',true,4.01,NaN,Infinity,null,undefined],1],{'':1,'string':1,'true':1,'4.01':1,'NaN':1,'Infinity':1,'null':1,'undefined':1}],['Test that an empty values array produces an empty lookup object',[[]],{}],['Test that a sparsely populated values array produces a lookup object with a single "undefined" key for all the missing/undefined element values',[_e],{1:true,2:true,'undefined':true}],['Test that a non-zero length values array that is unpopulated produces a lookup object with a single "undefined" key for all the undefined element values',[new Array(5)],{'undefined':true}],
['Test that specifying the value true for the optional safeOrTarget parameter results in a safe lookup object being created',[['foo','bar'],1,true],{foo:1,bar:1,constructor:undefined,toLocaleString:undefined,toString:undefined,valueOf:undefined}],{title:'Test that specifying the value false for the optional safeOrTarget parameter results in an unsafe lookup object being created',test:function(){var _bx=Uize.lookup(null,1,false);return this.expect(true,!!(_bx.constructor&&_bx.toLocaleString&&_bx.toString&&_bx.valueOf));}},['Test that specifying the value true for the optional safeOrTarget parameter is handled correctly when the source array contains values that coincide with properties of the Object prototype',[['foo','bar','constructor','toLocaleString','toString','valueOf'],1,true],{foo:1,bar:1,constructor:1,toLocaleString:1,toString:1,valueOf:1}],{title:'Test that specifying a target object for the optional safeOrTarget parameter is handled correctly',test:function(){var _O={foo:1},
_bx=Uize.lookup(['bar','hello','world'],2,_O);return(this.expectSameAs(_O,_bx)&&this.expect({foo:1,bar:2,hello:2,world:2},_bx));}}]],['Uize.reverseLookup',[['Test that calling with no parameter produces an empty object',[],{}],['Test that calling with the value null specified produces an empty object',[null],{}],['Test that calling with the value undefined specified produces an empty object',[undefined],{}],['Test that an object with no duplicate values is handled correctly',[{foo:1,bar:2}],{1:'foo',2:'bar'}],['Test that an object with duplicate values is handled as expected (last mapping wins)',[{foo:1,bar:1}],{1:'bar'}],['Test that an empty object produces an empty reverse lookup object',[{}],{}],['Test that an object with different types of values is handled correctly',[{prop1:'',prop2:'string',prop3:true,prop4:4.01,prop5:NaN,prop6:Infinity,prop7:null,prop8:undefined}],{'':'prop1','string':'prop2','true':'prop3','4.01':'prop4','NaN':'prop5',Infinity:'prop6','null':'prop7','undefined':'prop8'}],
['Test that an array can be specified as a source object',[['foo','bar']],{foo:'0',bar:'1'}],['Test that an empty array produces an empty reverse lookup object',[{}],{}],['Test that a sparsely populated values array produces a reverse lookup object with no "undefined" key for missing/undefined element values',[_e],{1:'2',2:'7'}],['Test that a non-zero length values array that is unpopulated produces an empty reverse lookup object',[new Array(5)],{}],['Test that null produces an empty reverse lookup object',null,{}],['Test that undefined produces an empty reverse lookup object',undefined,{}],['Test that a boolean value produces an empty reverse lookup object',false,{}],['Test that a number value produces an empty reverse lookup object',5,{}],['Test that a string value produces an empty reverse lookup object','hello',{}],['Test that specifying the value true for the optional safeOrTarget parameter results in a safe reverse lookup object being created',[{foo:'bar'},true],{bar:'foo',constructor:undefined,
toLocaleString:undefined,toString:undefined,valueOf:undefined}],{title:'Test that specifying the value false for the optional safeOrTarget parameter results in an unsafe reverse lookup object being created',test:function(){var _by=Uize.reverseLookup({foo:'bar'},false);return this.expect(true,!!(_by.constructor&&_by.toLocaleString&&_by.toString&&_by.valueOf));}},['Test that specifying the value true for the optional safeOrTarget parameter is handled correctly when the source object contains values that coincide with properties of the Object prototype',[{foo:'bar',prop1:'constructor',prop2:'toLocaleString',prop3:'toString',prop4:'valueOf'},true],{bar:'foo',constructor:'prop1',toLocaleString:'prop2',toString:'prop3',valueOf:'prop4'}],{title:'Test that specifying a target object for the optional safeOrTarget parameter is handled correctly',test:function(){var _O={foo:'bar',hello:'world'},_by=Uize.reverseLookup(_O,_O);return(this.expectSameAs(_O,_by)&&
this.expect({foo:'bar',hello:'world',bar:'foo',world:'hello'},_by));}}]],['Uize.max',[['Test that the maximum value from an object is reported correctly',[{foo:1,bar:2}],2],['Test that the maximum value from an array is reported correctly',[[1,2]],2],['Test that the maximum value from a sparsely populated array is NaN',[_e],NaN],['Test that the maximum value from a non-zero length array that is unpopulated is NaN',[new Array(5)],NaN],['Test that the maximum value from an empty array is -Infinity',[[]],-Infinity],['Test that the maximum value from an empty object is -Infinity',[{}],-Infinity],['Test that the maximum value from null is -Infinity',null,-Infinity],['Test that the maximum value from undefined is -Infinity',undefined,-Infinity],['Test that the maximum value from a boolean value is -Infinity',false,-Infinity],['Test that the maximum value from a number value is -Infinity',5,-Infinity],['Test that the maximum value from a string value is -Infinity','hello',-Infinity]]],['Uize.min',[
['Test that the minimum value from an object is reported correctly',[{foo:1,bar:2}],1],['Test that the minimum value from an array is reported correctly',[[1,2]],1],['Test that the minimum value from a sparsely populated array is NaN',[_e],NaN],['Test that the minimum value from a non-zero length array that is unpopulated is NaN',[new Array(5)],NaN],['Test that the minimum value from an empty array is Infinity',[[]],Infinity],['Test that the minimum value from an empty object is Infinity',[{}],Infinity],['Test that the minimum value from null is Infinity',null,Infinity],['Test that the minimum value from undefined is Infinity',undefined,Infinity],['Test that the minimum value from a boolean value is Infinity',false,Infinity],['Test that the minimum value from a number value is Infinity',5,Infinity],['Test that the minimum value from a string value is Infinity','hello',Infinity]]],['Uize.toString',[]],['Uize.module',[]]]),{title:'Data Module Pattern with Caching Accessor',test:function(){var _j;
Uize.module({name:'MyNamespace'});Uize.module({name:'MyNamespace.EngineeringEmployees',builder:function(){var _bz;return function(_bA){if(_bz&& !_bA)return _bz;var _bB=[{firstName:'John',lastName:'Wilkey',department:'engineering'},{firstName:'Nick',lastName:'Arendsen',department:'engineering'},{firstName:'Mark',lastName:'Strathley',department:'engineering'}];return _bA?_bB:(_bz=_bB);};}});Uize.module({name:'MyNamespace.FinanceEmployees',builder:function(){var _bz;return function(_bA){if(_bz&& !_bA)return _bz;var _bB=[{firstName:'Marie',lastName:'Stevenson',department:'finance'},{firstName:'Craig',lastName:'Pollack',department:'finance'}];return _bA?_bB:(_bz=_bB);};}});Uize.module({name:'MyNamespace.AllEmployees',required:['MyNamespace.EngineeringEmployees','MyNamespace.FinanceEmployees'],builder:function(){var _bz;return function(_bA){if(_bz&& !_bA)return _bz;var _bB=[].concat(MyNamespace.EngineeringEmployees(true),MyNamespace.FinanceEmployees(true));return _bA?_bB:(_bz=_bB);};}});Uize.module({
required:'MyNamespace.AllEmployees',builder:function(){_j=Uize.Data.identical(MyNamespace.AllEmployees(),[{firstName:'John',lastName:'Wilkey',department:'engineering'},{firstName:'Nick',lastName:'Arendsen',department:'engineering'},{firstName:'Mark',lastName:'Strathley',department:'engineering'},{firstName:'Marie',lastName:'Stevenson',department:'finance'},{firstName:'Craig',lastName:'Pollack',department:'finance'}]);}});return _j;}}]});}});